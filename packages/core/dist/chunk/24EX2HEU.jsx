import{visuallyHiddenStyles as d}from"@kobalte/utils";var r=7e3,n=null,c="data-live-announcer";function u(i,e="assertive",t=r){n||(n=new s),n.announce(i,e,t)}function h(i){n&&n.clear(i)}function p(){n&&(n.destroy(),n=null)}var s=class{node;assertiveLog;politeLog;constructor(){this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,d),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node)}createLog(e){let t=document.createElement("div");return t.setAttribute("role","log"),t.setAttribute("aria-live",e),t.setAttribute("aria-relevant","additions"),t}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(e,t="assertive",l=r){if(!this.node)return;let o=document.createElement("div");o.textContent=e,t==="assertive"?this.assertiveLog.appendChild(o):this.politeLog.appendChild(o),e!==""&&setTimeout(()=>{o.remove()},l)}clear(e){this.node&&((!e||e==="assertive")&&(this.assertiveLog.innerHTML=""),(!e||e==="polite")&&(this.politeLog.innerHTML=""))}};export{c as a,u as b,h as c,p as d};
