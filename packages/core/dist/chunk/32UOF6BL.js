import { k } from './UAI26547.js';
import { a as a$2 } from './3LFQJS72.js';
import { a as a$1 } from './2B777EKY.js';
import { createComponent, mergeProps, memo } from 'solid-js/web';
import { createContext, useContext, splitProps, createEffect, onCleanup, createUniqueId, createSignal, createMemo } from 'solid-js';
import { combineStyle } from '@solid-primitives/props';
import { mergeDefaultProps, createGenerateId, clamp } from '@kobalte/utils';

var s=createContext();function a(){let r=useContext(s);if(r===void 0)throw new Error("[kobalte]: `useMeterContext` must be used within a `Meter.Root` component");return r}function x(r){let t=a(),[m,e]=splitProps(r,["style"]);return createComponent(a$1,mergeProps({as:"div",get style(){return combineStyle({"--kb-meter-fill-width":t.meterFillWidth()},m.style)}},()=>t.dataset(),e))}function g(r){let t=a(),m=mergeDefaultProps({id:t.generateId("label")},r),[e,n]=splitProps(m,["id"]);return createEffect(()=>onCleanup(t.registerLabelId(e.id))),createComponent(a$1,mergeProps({as:"span",get id(){return e.id}},()=>t.dataset(),n))}function P(r){let t=`meter-${createUniqueId()}`,m=mergeDefaultProps({id:t,value:0,minValue:0,maxValue:100,role:"meter",indeterminate:!1},r),[e,n]=splitProps(m,["value","minValue","maxValue","getValueLabel","role","aria-valuetext","aria-labelledby","aria-valuemax","aria-valuemin","aria-valuenow","indeterminate"]),[u,C]=createSignal(),V=k(()=>({style:"percent"})),i=()=>clamp(e.value,e.minValue,e.maxValue),l=()=>(i()-e.minValue)/(e.maxValue-e.minValue),p=()=>{if(!e.indeterminate)return e.getValueLabel?e.getValueLabel({value:i(),min:e.minValue,max:e.maxValue}):V().format(l())},h=()=>`${Math.round(l()*100)}%`,c=createMemo(()=>({})),L={dataset:c,value:i,valuePercent:l,valueLabel:p,labelId:u,meterFillWidth:h,generateId:createGenerateId(()=>n.id),registerLabelId:a$2(C)};return createComponent(s.Provider,{value:L,get children(){return createComponent(a$1,mergeProps({as:"div",get role(){return e.role||"meter"},get"aria-valuenow"(){return memo(()=>!!e.indeterminate)()?void 0:i()},get"aria-valuemin"(){return e.minValue},get"aria-valuemax"(){return e.maxValue},get"aria-valuetext"(){return p()},get"aria-labelledby"(){return u()}},c,n))}})}function M(r){let t=a();return createComponent(a$1,mergeProps({as:"div"},()=>t.dataset(),r))}function v(r){let t=a();return createComponent(a$1,mergeProps({as:"div"},()=>t.dataset(),r,{get children(){return t.valueLabel()}}))}var We=Object.assign(P,{Fill:x,Label:g,Track:M,ValueLabel:v});

export { a, x as b, g as c, P as d, M as e, v as f, We as g };
