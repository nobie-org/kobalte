import{a as pe}from"./H2DQBBBH.jsx";import{a as K}from"./LD6VFCOU.jsx";import{a as Te}from"./3BC6LDRX.jsx";import{a as T}from"./HAEWETXL.jsx";import{a as be}from"./XWCF3RNR.jsx";var Bt={};be(Bt,{CloseButton:()=>Y,Description:()=>W,List:()=>j,ProgressFill:()=>q,ProgressTrack:()=>z,Region:()=>ee,Root:()=>te,Title:()=>oe,Toast:()=>Xt,toaster:()=>se,useToastContext:()=>m});import{callHandler as Me}from"@kobalte/utils";import{splitProps as Ae}from"solid-js";import{createContext as De,useContext as He}from"solid-js";var $=De();function m(){let s=He($);if(s===void 0)throw new Error("[kobalte]: `useToastContext` must be used within a `Toast.Root` component");return s}function Y(s){let o=m(),[e,t]=Ae(s,["aria-label","onClick"]),i=a=>{Me(a,e.onClick),o.close()};return<Te aria-label={e["aria-label"]||o.translations().close}onClick={i}{...t}/>}import{mergeDefaultProps as ke}from"@kobalte/utils";import{createEffect as Fe,onCleanup as Ve,splitProps as _e}from"solid-js";function W(s){let o=m(),e=ke({id:o.generateId("description")},s),[t,i]=_e(e,["id"]);return Fe(()=>Ve(o.registerDescriptionId(t.id))),<T as="div"id={t.id}{...i}/>}import{callHandler as H,contains as me,focusWithoutScrolling as Ne,getDocument as ce,getWindow as Je,mergeRefs as Ue}from"@kobalte/utils";import{For as Ke,createEffect as de,on as $e,onCleanup as ue,splitProps as Ye}from"solid-js";import{isServer as We}from"solid-js/web";import{createContext as Xe,useContext as Be}from"solid-js";var G=Xe();function v(){let s=Be(G);if(s===void 0)throw new Error("[kobalte]: `useToastRegionContext` must be used within a `Toast.Region` component");return s}function j(s){let o,e=v(),[t,i]=Ye(s,["ref","onFocusIn","onFocusOut","onPointerMove","onPointerLeave"]),a=r=>{H(r,t.onFocusIn),e.pauseOnInteraction()&&!e.isPaused()&&e.pauseAllTimer()},P=r=>{H(r,t.onFocusOut),me(o,r.relatedTarget)||e.resumeAllTimer()},f=r=>{H(r,t.onPointerMove),e.pauseOnInteraction()&&!e.isPaused()&&e.pauseAllTimer()},g=r=>{H(r,t.onPointerLeave),me(o,ce(o).activeElement)||e.resumeAllTimer()};return de($e([()=>o,()=>e.hotkey()],([r,y])=>{if(We||!r)return;let E=ce(r),d=D=>{y.every(S=>D[S]||D.code===S)&&Ne(r)};E.addEventListener("keydown",d),ue(()=>E.removeEventListener("keydown",d))})),de(()=>{if(!e.pauseOnPageIdle())return;let r=Je(o);r.addEventListener("blur",e.pauseAllTimer),r.addEventListener("focus",e.resumeAllTimer),ue(()=>{r.removeEventListener("blur",e.pauseAllTimer),r.removeEventListener("focus",e.resumeAllTimer)})}),<T as="ol"ref={Ue(r=>o=r,t.ref)}tabIndex={-1}onFocusIn={a}onFocusOut={P}onPointerMove={f}onPointerLeave={g}{...i}><Ke each={e.toasts()}>{r=>r.toastComponent({get toastId(){return r.id}})}</Ke></T>}import{createEffect as Ge,createSignal as je,onCleanup as qe,splitProps as ze}from"solid-js";import{combineStyle as Qe}from"@solid-primitives/props";function q(s){let o=v(),e=m(),[t,i]=ze(s,["style"]),[a,P]=je(100),f=0;return Ge(()=>{if(o.isPaused()||e.isPersistent())return;let g=setInterval(()=>{let r=new Date().getTime()-e.closeTimerStartTime()+f,y=Math.trunc(100-r/e.duration()*100);P(y<0?0:y)});qe(()=>{f+=new Date().getTime()-e.closeTimerStartTime(),clearInterval(g)})}),<T as="div"style={Qe({"--kb-toast-progress-fill-width":`${a()}%`},t.style)}{...i}/>}function z(s){return<T as="div"aria-hidden="true"role="presentation"{...s}/>}import{createGenerateId as it,mergeDefaultProps as at}from"@kobalte/utils";import{createMemo as pt,createSignal as lt,createUniqueId as Tt,splitProps as mt}from"solid-js";import{combineStyle as ct}from"@solid-primitives/props";import{createStore as Ze}from"solid-js/store";var[Q,h]=Ze({toasts:[]});function et(s){h("toasts",o=>[...o,s])}function tt(s){return Q.toasts.find(o=>o.id===s)}function ot(s,o){let e=Q.toasts.findIndex(t=>t.id===s);e!==-1&&h("toasts",t=>[...t.slice(0,e),o,...t.slice(e+1)])}function nt(s){h("toasts",o=>o.id===s,"dismiss",!0)}function st(s){h("toasts",o=>o.filter(e=>e.id!==s))}function rt(){h("toasts",[])}var c={toasts:()=>Q.toasts,add:et,get:tt,update:ot,dismiss:nt,remove:st,clear:rt};var Z="{hotkey}",Pe={close:"Close"},fe={notifications:s=>`Notifications (${s})`};function ee(s){let o=at({id:`toast-region-${Tt()}`,hotkey:["altKey","KeyT"],duration:5e3,limit:3,swipeDirection:"right",swipeThreshold:50,pauseOnInteraction:!0,pauseOnPageIdle:!0,topLayer:!0,translations:fe},s),[e,t]=mt(o,["translations","style","hotkey","duration","limit","swipeDirection","swipeThreshold","pauseOnInteraction","pauseOnPageIdle","topLayer","aria-label","regionId"]),i=pt(()=>c.toasts().filter(d=>d.region===e.regionId&&d.dismiss===!1).slice(0,e.limit)),[a,P]=lt(!1),f=()=>i().length>0,g=()=>e.hotkey.join("+").replace(/Key/g,"").replace(/Digit/g,""),r=()=>(e["aria-label"]||e.translations.notifications(Z)).replace(Z,g()),y=()=>({[pe]:e.topLayer?"":void 0}),E={isPaused:a,toasts:i,hotkey:()=>e.hotkey,duration:()=>e.duration,swipeDirection:()=>e.swipeDirection,swipeThreshold:()=>e.swipeThreshold,pauseOnInteraction:()=>e.pauseOnInteraction,pauseOnPageIdle:()=>e.pauseOnPageIdle,pauseAllTimer:()=>P(!0),resumeAllTimer:()=>P(!1),generateId:it(()=>t.id)};return<G.Provider value={E}><T as="div"role="region"tabIndex={-1}aria-label={r()}style={ct({"pointer-events":f()?e.topLayer?"auto":void 0:"none"},e.style)}{...y()}{...t}/></G.Provider>}import{callHandler as M,createGenerateId as dt,mergeDefaultProps as ut,mergeRefs as Pt}from"@kobalte/utils";import{Show as Et,createEffect as A,createMemo as Ct,createSignal as b,createUniqueId as xt,on as k,onMount as vt,splitProps as St}from"solid-js";import{combineStyle as Rt}from"@solid-primitives/props";import wt from"solid-presence";var Lt="toast.swipeStart",It="toast.swipeMove",Ot="toast.swipeCancel",ht="toast.swipeEnd";function te(s){let o=v(),e=ut({id:`toast-${xt()}`,priority:"high",translations:Pe},s),[t,i]=St(e,["ref","translations","toastId","style","priority","duration","persistent","onPause","onResume","onSwipeStart","onSwipeMove","onSwipeCancel","onSwipeEnd","onEscapeKeyDown","onKeyDown","onPointerDown","onPointerMove","onPointerUp"]),[a,P]=b(!0),[f,g]=b(),[r,y]=b(),[E,d]=b(!0),[D,re]=b(),{present:S}=wt({show:a,element:()=>D()??null}),V=Ct(()=>t.duration||o.duration()),_,X=0,B=V(),C=null,R=null,w=()=>{P(!1),d(!0)},Ee=()=>{c.remove(t.toastId)},ie=n=>{!n||t.persistent||(window.clearTimeout(_),X=new Date().getTime(),_=window.setTimeout(w,n))},Ce=()=>{ie(B),t.onResume?.()},xe=()=>{let n=new Date().getTime()-X;B=B-n,window.clearTimeout(_),t.onPause?.()},ve=n=>{M(n,t.onKeyDown),n.key==="Escape"&&(t.onEscapeKeyDown?.(n),n.defaultPrevented||w())},Se=n=>{M(n,t.onPointerDown),n.button===0&&(C={x:n.clientX,y:n.clientY})},Re=n=>{if(M(n,t.onPointerMove),!C)return;let u=n.clientX-C.x,L=n.clientY-C.y,N=!!R,I=["left","right"].includes(o.swipeDirection()),x=["left","up"].includes(o.swipeDirection())?Math.min:Math.max,J=I?x(0,u):0,Ie=I?0:x(0,L),U=n.pointerType==="touch"?10:2,O={x:J,y:Ie},ae={originalEvent:n,delta:O};if(N){R=O,F(It,t.onSwipeMove,ae);let{x:Oe,y:he}=O;n.currentTarget.setAttribute("data-swipe","move"),n.currentTarget.style.setProperty("--kb-toast-swipe-move-x",`${Oe}px`),n.currentTarget.style.setProperty("--kb-toast-swipe-move-y",`${he}px`)}else ye(O,o.swipeDirection(),U)?(R=O,F(Lt,t.onSwipeStart,ae),n.currentTarget.setAttribute("data-swipe","start"),n.target.setPointerCapture(n.pointerId)):(Math.abs(u)>U||Math.abs(L)>U)&&(C=null)},we=n=>{M(n,t.onPointerUp);let u=R,L=n.target;if(L.hasPointerCapture(n.pointerId)&&L.releasePointerCapture(n.pointerId),R=null,C=null,u){let N=n.currentTarget,I={originalEvent:n,delta:u};if(ye(u,o.swipeDirection(),o.swipeThreshold())){F(ht,t.onSwipeEnd,I);let{x,y:J}=u;n.currentTarget.setAttribute("data-swipe","end"),n.currentTarget.style.removeProperty("--kb-toast-swipe-move-x"),n.currentTarget.style.removeProperty("--kb-toast-swipe-move-y"),n.currentTarget.style.setProperty("--kb-toast-swipe-end-x",`${x}px`),n.currentTarget.style.setProperty("--kb-toast-swipe-end-y",`${J}px`),w()}else F(Ot,t.onSwipeCancel,I),n.currentTarget.setAttribute("data-swipe","cancel"),n.currentTarget.style.removeProperty("--kb-toast-swipe-move-x"),n.currentTarget.style.removeProperty("--kb-toast-swipe-move-y"),n.currentTarget.style.removeProperty("--kb-toast-swipe-end-x"),n.currentTarget.style.removeProperty("--kb-toast-swipe-end-y");N.addEventListener("click",x=>x.preventDefault(),{once:!0})}};vt(()=>{o.toasts().find(n=>n.id===t.toastId&&n.update)&&d(!1)}),A(k(()=>o.isPaused(),n=>{n?xe():Ce()},{defer:!0})),A(k([a,V],([n,u])=>{n&&!o.isPaused()&&ie(u)})),A(k(()=>c.get(t.toastId)?.dismiss,n=>n&&w())),A(k(()=>S(),n=>!n&&Ee()));let Le={translations:()=>t.translations,close:w,duration:V,isPersistent:()=>t.persistent??!1,closeTimerStartTime:()=>X,generateId:dt(()=>i.id),registerTitleId:K(g),registerDescriptionId:K(y)};return<Et when={S()}><$.Provider value={Le}><T as="li"ref={Pt(re,t.ref)}role="status"tabIndex={0}style={Rt({animation:E()?void 0:"none","user-select":"none","touch-action":"none"},t.style)}aria-live={t.priority==="high"?"assertive":"polite"}aria-atomic="true"aria-labelledby={f()}aria-describedby={r()}data-opened={a()?"":void 0}data-closed={a()?void 0:""}data-swipe-direction={o.swipeDirection()}onKeyDown={ve}onPointerDown={Se}onPointerMove={Re}onPointerUp={we}{...i}/></$.Provider></Et>}function ye(s,o,e=0){let t=Math.abs(s.x),i=Math.abs(s.y),a=t>i;return o==="left"||o==="right"?a&&t>e:!a&&i>e}function F(s,o,e){let t=e.originalEvent.currentTarget,i=new CustomEvent(s,{bubbles:!0,cancelable:!0,detail:e});o&&t.addEventListener(s,o,{once:!0}),t.dispatchEvent(i)}import{mergeDefaultProps as bt}from"@kobalte/utils";import{createEffect as Dt,onCleanup as Ht,splitProps as Mt}from"solid-js";function oe(s){let o=m(),e=bt({id:o.generateId("title")},s),[t,i]=Mt(e,["id"]);return Dt(()=>Ht(o.registerTitleId(t.id))),<T as="div"id={t.id}{...i}/>}import{isFunction as At}from"@kobalte/utils";var kt=0;function ge(s,o){let e=kt++;return c.add({id:e,toastComponent:s,dismiss:!1,update:!1,region:o?.region}),e}function ne(s,o){c.update(s,{id:s,toastComponent:o,dismiss:!1,update:!0})}function Ft(s,o,e){let t=ge(i=>o({get toastId(){return i.toastId},state:"pending"}),e);return(At(s)?s():s).then(i=>ne(t,a=>o({get toastId(){return a.toastId},state:"fulfilled",data:i}))).catch(i=>ne(t,a=>o({get toastId(){return a.toastId},state:"rejected",error:i}))),t}function Vt(s){return c.dismiss(s),s}function _t(){c.clear()}var se={show:ge,update:ne,promise:Ft,dismiss:Vt,clear:_t};var Xt=Object.assign(te,{CloseButton:Y,Description:W,List:j,ProgressFill:q,ProgressTrack:z,Region:ee,Title:oe,toaster:se});export{se as a,m as b,Y as c,W as d,j as e,q as f,z as g,ee as h,te as i,oe as j,Xt as k,Bt as l};
