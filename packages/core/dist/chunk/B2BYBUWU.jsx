import{f as W}from"./I2GXMTLG.jsx";import{a as Te}from"./4H2ZUUJL.jsx";import{b as ye}from"./GU5T4K6H.jsx";import{f as N,i as ve}from"./M3KDFM4U.jsx";import{b as Ie,d as he,e as Se}from"./5IMLYAJ7.jsx";import{g as h}from"./ZSYY5OQU.jsx";import{a as ge}from"./CHPFHOO4.jsx";import{a as Ce}from"./VYWZPHCB.jsx";import{a as Oe}from"./HRP3PVHU.jsx";import{a as J}from"./OYIYGTZT.jsx";import{a as L}from"./LD6VFCOU.jsx";import{a as Pe}from"./A5YUKSV6.jsx";import{a as Ee}from"./3BC6LDRX.jsx";import{a as xe}from"./DOLTULMA.jsx";import{a as C}from"./HAEWETXL.jsx";import{createContext as Ze,useContext as et}from"solid-js";var tt=Ze();function D(){return et(tt)}function $n(){let r=D();if(r===void 0)throw new Error("[kobalte]: `useMenubarContext` must be used within a `Menubar` component");return r}import{createContext as nt,useContext as ot}from"solid-js";var rt=nt();function B(){return ot(rt)}function Zn(){let r=B();if(r===void 0)throw new Error("[kobalte]: `useNavigationMenuContext` must be used within a `NavigationMenu` component");return r}import{createContext as it,useContext as st}from"solid-js";var oe=it();function H(){let r=st(oe);if(r===void 0)throw new Error("[kobalte]: `useMenuItemContext` must be used within a `Menu.Item` component");return r}import{mergeDefaultProps as gt}from"@kobalte/utils";import{splitProps as Ct}from"solid-js";import{callHandler as z,composeEventHandlers as w,createGenerateId as dt,focusWithoutScrolling as ct,mergeDefaultProps as mt,mergeRefs as ft}from"@kobalte/utils";import{createMemo as De,createSignal as ae,createUniqueId as Mt,splitProps as Pt}from"solid-js";import{createContext as at,useContext as ut}from"solid-js";var re=at();function ie(){return ut(re)}function T(){let r=ie();if(r===void 0)throw new Error("[kobalte]: `useMenuContext` must be used within a `Menu` component");return r}import{createContext as pt,useContext as lt}from"solid-js";var se=pt();function x(){let r=lt(se);if(r===void 0)throw new Error("[kobalte]: `useMenuRootContext` must be used within a `MenuRoot` component");return r}function V(r){let o,s=x(),e=T(),t=mt({id:s.generateId(`item-${Mt()}`)},r),[n,p]=Pt(t,["ref","textValue","disabled","closeOnSelect","checked","indeterminate","onSelect","onPointerMove","onPointerLeave","onPointerDown","onPointerUp","onClick","onKeyDown","onMouseDown","onFocus"]),[c,u]=ae(),[f,d]=ae(),[M,v]=ae(),b=()=>e.listState().selectionManager(),P=()=>p.id,S=()=>b().focusedKey()===P(),E=()=>{n.onSelect?.(),n.closeOnSelect&&setTimeout(()=>{e.close(!0)})};Se({getItem:()=>({ref:()=>o,type:"item",key:P(),textValue:n.textValue??M()?.textContent??o?.textContent??"",disabled:n.disabled??!1})});let a=N({key:P,selectionManager:b,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,disabled:()=>n.disabled},()=>o),y=m=>{z(m,n.onPointerMove),m.pointerType==="mouse"&&(n.disabled?e.onItemLeave(m):(e.onItemEnter(m),!m.defaultPrevented&&!e.autoFocusDisabled()&&(ct(m.currentTarget),e.listState().selectionManager().setFocused(!0),e.listState().selectionManager().setFocusedKey(P()))))},i=m=>{z(m,n.onPointerLeave),m.pointerType==="mouse"&&e.onItemLeave(m)},g=m=>{z(m,n.onPointerUp),!n.disabled&&m.button===0&&E()},O=m=>{if(z(m,n.onKeyDown),!m.repeat&&!n.disabled)switch(m.key){case"Enter":case" ":E();break}},A=De(()=>{if(n.indeterminate)return"mixed";if(n.checked!=null)return n.checked}),K=De(()=>({"data-indeterminate":n.indeterminate?"":void 0,"data-checked":n.checked&&!n.indeterminate?"":void 0,"data-disabled":n.disabled?"":void 0,"data-highlighted":S()?"":void 0})),G={isChecked:()=>n.checked,dataset:K,setLabelRef:v,generateId:dt(()=>p.id),registerLabel:L(u),registerDescription:L(d)};return<oe.Provider value={G}><C as="div"ref={ft(m=>o=m,n.ref)}tabIndex={a.tabIndex()}aria-checked={A()}aria-disabled={n.disabled}aria-labelledby={c()}aria-describedby={f()}data-key={a.dataKey()}onPointerDown={w([n.onPointerDown,a.onPointerDown])}onPointerUp={w([g,a.onPointerUp])}onClick={w([n.onClick,a.onClick])}onKeyDown={w([O,a.onKeyDown])}onMouseDown={w([n.onMouseDown,a.onMouseDown])}onFocus={w([n.onFocus,a.onFocus])}onPointerMove={y}onPointerLeave={i}{...K()}{...p}/></oe.Provider>}function bo(r){let o=gt({closeOnSelect:!1},r),[s,e]=Ct(o,["checked","defaultChecked","onChange","onSelect"]),t=Te({isSelected:()=>s.checked,defaultIsSelected:()=>s.defaultChecked,onSelectedChange:p=>s.onChange?.(p),isDisabled:()=>e.disabled}),n=()=>{s.onSelect?.(),t.toggle()};return<V role="menuitemcheckbox"checked={t.isSelected()}onSelect={n}{...e}/>}import{callHandler as U,mergeDefaultProps as xt,mergeRefs as Tt,scrollIntoViewport as vt}from"@kobalte/utils";import{createEffect as Le,createMemo as yt,on as bt,onCleanup as Et,splitProps as It}from"solid-js";var k={next:(r,o)=>r==="ltr"?o==="horizontal"?"ArrowRight":"ArrowDown":o==="horizontal"?"ArrowLeft":"ArrowUp",previous:(r,o)=>k.next(r==="ltr"?"rtl":"ltr",o)},Re={first:r=>r==="horizontal"?"ArrowDown":"ArrowRight",last:r=>r==="horizontal"?"ArrowUp":"ArrowLeft"};function Vo(r){let o=x(),s=T(),e=D(),{direction:t}=h(),n=xt({id:o.generateId("trigger")},r),[p,c]=It(n,["ref","id","disabled","onPointerDown","onClick","onKeyDown","onMouseOver","onFocus"]),u=()=>o.value();e!==void 0&&(u=()=>o.value()??p.id,e.lastValue()===void 0&&e.setLastValue(u));let f=xe(()=>s.triggerRef(),()=>"button"),d=yt(()=>f()==="a"&&s.triggerRef()?.getAttribute("href")!=null);Le(bt(()=>e?.value(),a=>{d()&&a===u()&&s.triggerRef()?.focus()}));let M=()=>{e!==void 0?s.isOpen()?e.value()===u()&&e.closeMenu():(e.autoFocusMenu()||e.setAutoFocusMenu(!0),s.open(!1)):s.toggle(!0)},v=a=>{U(a,p.onPointerDown),a.currentTarget.dataset.pointerType=a.pointerType,!p.disabled&&a.pointerType!=="touch"&&a.button===0&&M()},b=a=>{U(a,p.onClick),p.disabled||a.currentTarget.dataset.pointerType==="touch"&&M()},P=a=>{if(U(a,p.onKeyDown),!p.disabled){if(d())switch(a.key){case"Enter":case" ":return}switch(a.key){case"Enter":case" ":case Re.first(o.orientation()):a.stopPropagation(),a.preventDefault(),vt(a.currentTarget),s.open("first"),e?.setAutoFocusMenu(!0),e?.setValue(u);break;case Re.last(o.orientation()):a.stopPropagation(),a.preventDefault(),s.open("last");break;case k.next(t(),o.orientation()):if(e===void 0)break;a.stopPropagation(),a.preventDefault(),e.nextMenu();break;case k.previous(t(),o.orientation()):if(e===void 0)break;a.stopPropagation(),a.preventDefault(),e.previousMenu();break}}},S=a=>{U(a,p.onMouseOver),s.triggerRef()?.dataset.pointerType!=="touch"&&!p.disabled&&e!==void 0&&e.value()!==void 0&&e.setValue(u)},E=a=>{U(a,p.onFocus),e!==void 0&&a.currentTarget.dataset.pointerType!=="touch"&&e.setValue(u)};return Le(()=>Et(s.registerTriggerId(p.id))),<Ee ref={Tt(s.setTriggerRef,p.ref)}data-kb-menu-value-trigger={o.value()}id={p.id}disabled={p.disabled}aria-haspopup="true"aria-expanded={s.isOpen()}aria-controls={s.isOpen()?s.contentId():void 0}data-highlighted={u()!==void 0&&e?.value()===u()?!0:void 0}tabIndex={e!==void 0?e.value()===u()||e.lastValue()===u()?0:-1:void 0}onPointerDown={v}onMouseOver={S}onClick={b}onKeyDown={P}onFocus={E}role={e!==void 0?"menuitem":void 0}{...s.dataset()}{...c}/>}import{mergeRefs as Ht}from"@kobalte/utils";import{splitProps as wt}from"solid-js";import Vt from"solid-prevent-scroll";import{callHandler as He,composeEventHandlers as Y,contains as we,mergeDefaultProps as ht,mergeRefs as St}from"@kobalte/utils";import{Show as Ve,createEffect as Ot,createUniqueId as Dt,onCleanup as ke,splitProps as Lt}from"solid-js";import{combineStyle as Rt}from"@solid-primitives/props";function _(r){let o,s=x(),e=T(),t=D(),n=B(),{direction:p}=h(),c=ht({id:s.generateId(`content-${Dt()}`)},r),[u,f]=Lt(c,["ref","id","style","onOpenAutoFocus","onCloseAutoFocus","onEscapeKeyDown","onFocusOutside","onPointerEnter","onPointerMove","onKeyDown","onMouseDown","onFocusIn","onFocusOut"]),d=0,M=()=>e.parentMenuContext()==null&&t===void 0&&s.isModal(),v=ye({selectionManager:e.listState().selectionManager,collection:e.listState().collection,autoFocus:e.autoFocus,deferAutoFocus:!0,shouldFocusWrap:!0,disallowTypeAhead:()=>!e.listState().selectionManager().isFocused(),orientation:()=>s.orientation()==="horizontal"?"vertical":"horizontal"},()=>o);ge({trapFocus:()=>M()&&e.isOpen(),onMountAutoFocus:i=>{t===void 0&&u.onOpenAutoFocus?.(i)},onUnmountAutoFocus:u.onCloseAutoFocus},()=>o);let b=i=>{if(we(i.currentTarget,i.target)&&(i.key==="Tab"&&e.isOpen()&&i.preventDefault(),t!==void 0&&i.currentTarget.getAttribute("aria-haspopup")!=="true"))switch(i.key){case k.next(p(),s.orientation()):i.stopPropagation(),i.preventDefault(),e.close(!0),t.setAutoFocusMenu(!0),t.nextMenu();break;case k.previous(p(),s.orientation()):if(i.currentTarget.hasAttribute("data-closed"))break;i.stopPropagation(),i.preventDefault(),e.close(!0),t.setAutoFocusMenu(!0),t.previousMenu();break}},P=i=>{u.onEscapeKeyDown?.(i),t?.setAutoFocusMenu(!1),e.close(!0)},S=i=>{u.onFocusOutside?.(i),s.isModal()&&i.preventDefault()},E=i=>{He(i,u.onPointerEnter),e.isOpen()&&(e.parentMenuContext()?.listState().selectionManager().setFocused(!1),e.parentMenuContext()?.listState().selectionManager().setFocusedKey(void 0))},a=i=>{if(He(i,u.onPointerMove),i.pointerType!=="mouse")return;let g=i.target,O=d!==i.clientX;we(i.currentTarget,g)&&O&&(e.setPointerDir(i.clientX>d?"right":"left"),d=i.clientX)};Ot(()=>ke(e.registerContentId(u.id))),ke(()=>e.setContentRef(void 0));let y={ref:St(i=>{e.setContentRef(i),o=i},u.ref),role:"menu",get id(){return u.id},get tabIndex(){return v.tabIndex()},get"aria-labelledby"(){return e.triggerId()},onKeyDown:Y([u.onKeyDown,v.onKeyDown,b]),onMouseDown:Y([u.onMouseDown,v.onMouseDown]),onFocusIn:Y([u.onFocusIn,v.onFocusIn]),onFocusOut:Y([u.onFocusOut,v.onFocusOut]),onPointerEnter:E,onPointerMove:a,get"data-orientation"(){return s.orientation()}};return<Ve when={e.contentPresent()}><Ve when={n===void 0||e.parentMenuContext()!=null}fallback={<C as="div"{...e.dataset()}{...y}{...f}/>}><W.Positioner><Oe disableOutsidePointerEvents={M()&&e.isOpen()}excludedElements={[e.triggerRef]}bypassTopMostLayerCheck style={Rt({"--kb-menu-content-transform-origin":"var(--kb-popper-content-transform-origin)",position:"relative"},u.style)}onEscapeKeyDown={P}onFocusOutside={S}onDismiss={e.close}{...e.dataset()}{...y}{...f}/></W.Positioner></Ve></Ve>}function Mr(r){let o,s=x(),e=T(),[t,n]=wt(r,["ref"]);return Vt({element:()=>o??null,enabled:()=>e.contentPresent()&&s.preventScroll()}),<_ ref={Ht(p=>{o=p},t.ref)}{...n}/>}import{createGenerateId as At,mergeDefaultProps as Gt}from"@kobalte/utils";import{createSignal as Bt,createUniqueId as Ut}from"solid-js";import{createContext as kt,useContext as Ft}from"solid-js";var ue=kt();function Fe(){let r=Ft(ue);if(r===void 0)throw new Error("[kobalte]: `useMenuGroupContext` must be used within a `Menu.Group` component");return r}function Ae(r){let o=x(),s=Gt({id:o.generateId(`group-${Ut()}`)},r),[e,t]=Bt(),n={generateId:At(()=>s.id),registerLabelId:L(t)};return<ue.Provider value={n}><C as="div"role="group"aria-labelledby={e()}{...s}/></ue.Provider>}import{mergeDefaultProps as Kt}from"@kobalte/utils";import{createEffect as Xt,onCleanup as Jt,splitProps as Nt}from"solid-js";function Lr(r){let o=Fe(),s=Kt({id:o.generateId("label")},r),[e,t]=Nt(s,["id"]);return Xt(()=>Jt(o.registerLabelId(e.id))),<C as="span"id={e.id}aria-hidden="true"{...t}/>}import{mergeDefaultProps as Wt}from"@kobalte/utils";function kr(r){let o=T(),s=Wt({children:"\u25BC"},r);return<C as="span"aria-hidden="true"{...o.dataset()}{...s}/>}function Gr(r){return<V role="menuitem"closeOnSelect{...r}/>}import{mergeDefaultProps as zt}from"@kobalte/utils";import{createEffect as Yt,onCleanup as _t,splitProps as qt}from"solid-js";function Nr(r){let o=H(),s=zt({id:o.generateId("description")},r),[e,t]=qt(s,["id"]);return Yt(()=>_t(o.registerDescription(e.id))),<C as="div"id={e.id}{...o.dataset()}{...t}/>}import{mergeDefaultProps as $t}from"@kobalte/utils";import{Show as Qt,splitProps as Zt}from"solid-js";function jr(r){let o=H(),s=$t({id:o.generateId("indicator")},r),[e,t]=Zt(s,["forceMount"]);return<Qt when={e.forceMount||o.isChecked()}><C as="div"{...o.dataset()}{...t}/></Qt>}import{mergeDefaultProps as en,mergeRefs as tn}from"@kobalte/utils";import{createEffect as nn,onCleanup as on,splitProps as rn}from"solid-js";function oi(r){let o=H(),s=en({id:o.generateId("label")},r),[e,t]=rn(s,["ref","id"]);return nn(()=>on(o.registerLabel(e.id))),<C as="div"ref={tn(o.setLabelRef,e.ref)}id={e.id}{...o.dataset()}{...t}/>}import{Show as Mn}from"solid-js";import{Portal as Pn}from"solid-js/web";function Mi(r){let o=T();return<Mn when={o.contentPresent()}><Pn{...r}/></Mn>}import{mergeDefaultProps as xn}from"@kobalte/utils";import{createUniqueId as Tn,splitProps as vn}from"solid-js";import{createContext as gn,useContext as Cn}from"solid-js";var pe=gn();function Ge(){let r=Cn(pe);if(r===void 0)throw new Error("[kobalte]: `useMenuRadioGroupContext` must be used within a `Menu.RadioGroup` component");return r}function Ii(r){let s=x().generateId(`radiogroup-${Tn()}`),e=xn({id:s},r),[t,n]=vn(e,["value","defaultValue","onChange","disabled"]),[p,c]=Pe({value:()=>t.value,defaultValue:()=>t.defaultValue,onChange:f=>t.onChange?.(f)}),u={isDisabled:()=>t.disabled,isSelectedValue:f=>f===p(),setSelectedValue:f=>c(f)};return<pe.Provider value={u}><Ae{...n}/></pe.Provider>}import{mergeDefaultProps as yn}from"@kobalte/utils";import{splitProps as bn}from"solid-js";function Hi(r){let o=Ge(),s=yn({closeOnSelect:!1},r),[e,t]=bn(s,["value","onSelect"]),n=()=>{e.onSelect?.(),o.setSelectedValue(e.value)};return<V role="menuitemradio"checked={o.isSelectedValue(e.value)}onSelect={n}{...t}/>}import{focusWithoutScrolling as In,mergeDefaultProps as hn,removeItemFromArray as Sn}from"@kobalte/utils";import{Show as On,createEffect as q,createMemo as Dn,createSignal as R,onCleanup as Ke,splitProps as Ln}from"solid-js";import Rn from"solid-presence";import{isPointInPolygon as En}from"@kobalte/utils";function Be(r,o,s){let e=r.split("-")[0],t=s.getBoundingClientRect(),n=[],p=o.clientX,c=o.clientY;switch(e){case"top":n.push([p,c+5]),n.push([t.left,t.bottom]),n.push([t.left,t.top]),n.push([t.right,t.top]),n.push([t.right,t.bottom]);break;case"right":n.push([p-5,c]),n.push([t.left,t.top]),n.push([t.right,t.top]),n.push([t.right,t.bottom]),n.push([t.left,t.bottom]);break;case"bottom":n.push([p,c-5]),n.push([t.right,t.top]),n.push([t.right,t.bottom]),n.push([t.left,t.bottom]),n.push([t.left,t.top]);break;case"left":n.push([p+5,c]),n.push([t.right,t.bottom]),n.push([t.left,t.bottom]),n.push([t.left,t.top]),n.push([t.right,t.top]);break}return n}function Ue(r,o){return o?En([r.clientX,r.clientY],o):!1}function $(r){let o=x(),s=Ie(),e=ie(),t=D(),n=B(),p=hn({placement:o.orientation()==="horizontal"?"bottom-start":"right-start"},r),[c,u]=Ln(p,["open","defaultOpen","onOpenChange","preventAutoFocusWhenClosed"]),f=0,d=null,M="right",[v,b]=R(),[P,S]=R(),[E,a]=R(),[y,i]=R(),[g,O]=R(!0),[A,K]=R(u.placement),[G,m]=R([]),[Z,Ne]=R([]),{DomCollectionProvider:We}=he({items:Z,onItemsChange:Ne}),I=J({open:()=>c.open,defaultOpen:()=>c.defaultOpen,onOpenChange:l=>c.onOpenChange?.(l)}),{present:ze}=Rn({show:()=>o.forceMount()||I.isOpen(),element:()=>y()??null}),ee=ve({selectionMode:"none",dataSource:Z}),de=l=>{O(l),I.open()},ce=(l=!1)=>{I.close(),l&&e&&e.close(!0)},Ye=l=>{O(l),I.toggle()},me=()=>!I.isOpen()&&!!c.preventAutoFocusWhenClosed,fe=()=>{if(me())return;let l=y();l&&(In(l),ee.selectionManager().setFocused(!0),ee.selectionManager().setFocusedKey(void 0))},Me=()=>{n!=null?setTimeout(()=>fe()):fe()},_e=l=>{m(ne=>[...ne,l]);let X=e?.registerNestedMenu(l);return()=>{m(ne=>Sn(ne,l)),X?.()}},te=l=>M===d?.side&&Ue(l,d?.area),qe=l=>{te(l)&&l.preventDefault()},$e=l=>{te(l)||Me()},je=l=>{te(l)&&l.preventDefault()};Ce({isDisabled:()=>!(e==null&&I.isOpen()&&o.isModal()),targets:()=>[y(),...G()].filter(Boolean)}),q(()=>{let l=y();if(!l||!e)return;let X=e.registerNestedMenu(l);Ke(()=>{X()})}),q(()=>{e===void 0&&t?.registerMenu(o.value(),[y(),...G()])}),q(()=>{e!==void 0||t===void 0||(t.value()===o.value()?(E()?.focus(),t.autoFocusMenu()&&de(!0)):ce())}),q(()=>{e!==void 0||t===void 0||I.isOpen()&&t.setValue(o.value())}),Ke(()=>{e===void 0&&t?.unregisterMenu(o.value())});let Qe={dataset:Dn(()=>({"data-expanded":I.isOpen()?"":void 0,"data-closed":I.isOpen()?void 0:""})),isOpen:I.isOpen,contentPresent:ze,nestedMenus:G,currentPlacement:A,pointerGraceTimeoutId:()=>f,autoFocus:g,listState:()=>ee,parentMenuContext:()=>e,triggerRef:E,contentRef:y,triggerId:v,contentId:P,setTriggerRef:a,setContentRef:i,open:de,close:ce,toggle:Ye,focusContent:Me,onItemEnter:qe,onItemLeave:$e,onTriggerLeave:je,setPointerDir:l=>M=l,setPointerGraceTimeoutId:l=>f=l,setPointerGraceIntent:l=>d=l,registerNestedMenu:_e,registerItemToParentDomCollection:s?.registerItem,registerTriggerId:L(b),registerContentId:L(S),autoFocusDisabled:me};return<We><re.Provider value={Qe}><On when={n===void 0}fallback={u.children}><W anchorRef={E}contentRef={y}onCurrentPlacementChange={K}{...u}/></On></re.Provider></We>}function ji(r){let{direction:o}=h();return<$ placement={o()==="rtl"?"left-start":"right-start"}flip{...r}/>}import{callHandler as Hn,contains as Xe,focusWithoutScrolling as wn}from"@kobalte/utils";import{splitProps as Vn}from"solid-js";var kn={close:(r,o)=>r==="ltr"?[o==="horizontal"?"ArrowLeft":"ArrowUp"]:[o==="horizontal"?"ArrowRight":"ArrowDown"]};function ss(r){let o=T(),s=x(),[e,t]=Vn(r,["onFocusOutside","onKeyDown"]),{direction:n}=h(),p=d=>{d.preventDefault()},c=d=>{d.preventDefault()},u=d=>{e.onFocusOutside?.(d);let M=d.target;Xe(o.triggerRef(),M)||o.close()},f=d=>{Hn(d,e.onKeyDown);let M=Xe(d.currentTarget,d.target),v=kn.close(n(),s.orientation()).includes(d.key),b=o.parentMenuContext()!=null;M&&v&&b&&(o.close(),wn(o.triggerRef()))};return<_ onOpenAutoFocus={p}onCloseAutoFocus={c}onFocusOutside={u}onKeyDown={f}{...t}/>}import{callHandler as j,composeEventHandlers as F,focusWithoutScrolling as Fn,mergeDefaultProps as An,mergeRefs as Gn}from"@kobalte/utils";import{createEffect as le,createUniqueId as Bn,on as Un,onCleanup as Q,splitProps as Kn}from"solid-js";import{isServer as Xn}from"solid-js/web";var Je=["Enter"," "],Jn={open:(r,o)=>r==="ltr"?[...Je,o==="horizontal"?"ArrowRight":"ArrowDown"]:[...Je,o==="horizontal"?"ArrowLeft":"ArrowUp"]};function gs(r){let o,s=x(),e=T(),t=An({id:s.generateId(`sub-trigger-${Bn()}`)},r),[n,p]=Kn(t,["ref","id","textValue","disabled","onPointerMove","onPointerLeave","onPointerDown","onPointerUp","onClick","onKeyDown","onMouseDown","onFocus"]),c=null,u=()=>{Xn||(c&&window.clearTimeout(c),c=null)},{direction:f}=h(),d=()=>n.id,M=()=>{let i=e.parentMenuContext();if(i==null)throw new Error("[kobalte]: `Menu.SubTrigger` must be used within a `Menu.Sub` component");return i.listState().selectionManager()},v=()=>e.listState().collection(),b=()=>M().focusedKey()===d(),P=N({key:d,selectionManager:M,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,disabled:()=>n.disabled},()=>o),S=i=>{j(i,n.onClick),!e.isOpen()&&!n.disabled&&e.open(!0)},E=i=>{if(j(i,n.onPointerMove),i.pointerType!=="mouse")return;let g=e.parentMenuContext();if(g?.onItemEnter(i),!i.defaultPrevented){if(n.disabled){g?.onItemLeave(i);return}!e.isOpen()&&!c&&(e.parentMenuContext()?.setPointerGraceIntent(null),c=window.setTimeout(()=>{e.open(!1),u()},100)),g?.onItemEnter(i),i.defaultPrevented||(e.listState().selectionManager().isFocused()&&(e.listState().selectionManager().setFocused(!1),e.listState().selectionManager().setFocusedKey(void 0)),Fn(i.currentTarget),g?.listState().selectionManager().setFocused(!0),g?.listState().selectionManager().setFocusedKey(d()))}},a=i=>{if(j(i,n.onPointerLeave),i.pointerType!=="mouse")return;u();let g=e.parentMenuContext(),O=e.contentRef();if(O){g?.setPointerGraceIntent({area:Be(e.currentPlacement(),i,O),side:e.currentPlacement().split("-")[0]}),window.clearTimeout(g?.pointerGraceTimeoutId());let A=window.setTimeout(()=>{g?.setPointerGraceIntent(null)},300);g?.setPointerGraceTimeoutId(A)}else{if(g?.onTriggerLeave(i),i.defaultPrevented)return;g?.setPointerGraceIntent(null)}g?.onItemLeave(i)},y=i=>{j(i,n.onKeyDown),!i.repeat&&(n.disabled||Jn.open(f(),s.orientation()).includes(i.key)&&(i.stopPropagation(),i.preventDefault(),M().setFocused(!1),M().setFocusedKey(void 0),e.isOpen()||e.open("first"),e.focusContent(),e.listState().selectionManager().setFocused(!0),e.listState().selectionManager().setFocusedKey(v().getFirstKey())))};return le(()=>{if(e.registerItemToParentDomCollection==null)throw new Error("[kobalte]: `Menu.SubTrigger` must be used within a `Menu.Sub` component");let i=e.registerItemToParentDomCollection({ref:()=>o,type:"item",key:d(),textValue:n.textValue??o?.textContent??"",disabled:n.disabled??!1});Q(i)}),le(Un(()=>e.parentMenuContext()?.pointerGraceTimeoutId(),i=>{Q(()=>{window.clearTimeout(i),e.parentMenuContext()?.setPointerGraceIntent(null)})})),le(()=>Q(e.registerTriggerId(n.id))),Q(()=>{u()}),<C as="div"ref={Gn(i=>{e.setTriggerRef(i),o=i},n.ref)}id={n.id}role="menuitem"tabIndex={P.tabIndex()}aria-haspopup="true"aria-expanded={e.isOpen()}aria-controls={e.isOpen()?e.contentId():void 0}aria-disabled={n.disabled}data-key={P.dataKey()}data-highlighted={b()?"":void 0}data-disabled={n.disabled?"":void 0}onPointerDown={F([n.onPointerDown,P.onPointerDown])}onPointerUp={F([n.onPointerUp,P.onPointerUp])}onClick={F([S,P.onClick])}onKeyDown={F([y,P.onKeyDown])}onMouseDown={F([n.onMouseDown,P.onMouseDown])}onFocus={F([n.onFocus,P.onFocus])}onPointerMove={E}onPointerLeave={a}{...e.dataset()}{...p}/>}import{createGenerateId as Nn,mergeDefaultProps as Wn}from"@kobalte/utils";import{createUniqueId as zn,splitProps as Yn}from"solid-js";function Is(r){let o=D(),s=`menu-${zn()}`,e=Wn({id:s,modal:!0},r),[t,n]=Yn(e,["id","modal","preventScroll","forceMount","open","defaultOpen","onOpenChange","value","orientation"]),p=J({open:()=>t.open,defaultOpen:()=>t.defaultOpen,onOpenChange:u=>t.onOpenChange?.(u)}),c={isModal:()=>t.modal??!0,preventScroll:()=>t.preventScroll??c.isModal(),forceMount:()=>t.forceMount??!1,generateId:Nn(()=>t.id),value:()=>t.value,orientation:()=>t.orientation??o?.orientation()??"horizontal"};return<se.Provider value={c}><$ open={p.isOpen()}onOpenChange={p.setIsOpen}{...n}/></se.Provider>}export{tt as a,$n as b,rt as c,Zn as d,ie as e,T as f,x as g,H as h,bo as i,Vo as j,Mr as k,Ae as l,Lr as m,kr as n,Gr as o,Nr as p,jr as q,oi as r,Mi as s,Ii as t,Hi as u,Is as v,ji as w,ss as x,gs as y};
