import { f as f$1 } from './U4KVQHPL.js';
import { a } from './TLMDCNHS.js';
import { b as b$1 } from './GDC443NN.js';
import { f, i } from './K4TV2NLR.js';
import { e, b as b$2, d } from './E3ZWEEXE.js';
import { a as a$7 } from './ZMT4QDL4.js';
import { a as a$9 } from './VRFMVH72.js';
import { a as a$8 } from './FNVJ2A2S.js';
import { a as a$6 } from './B6YIKRNF.js';
import { g } from './UAI26547.js';
import { a as a$3 } from './3LFQJS72.js';
import { a as a$5 } from './BRRMFPGI.js';
import { a as a$2 } from './STCLCRSQ.js';
import { a as a$1 } from './7TUI7MGL.js';
import { a as a$4 } from './2B777EKY.js';
import { createContext, useContext, splitProps, createMemo, createEffect, on, onCleanup, createUniqueId, createSignal, Show } from 'solid-js';
import { createComponent, mergeProps, memo, Portal, isServer } from 'solid-js/web';
import { mergeDefaultProps, mergeRefs, createGenerateId, contains, callHandler, focusWithoutScrolling, composeEventHandlers, scrollIntoViewport, removeItemFromArray, isPointInPolygon } from '@kobalte/utils';
import Jt from 'solid-prevent-scroll';
import { combineStyle } from '@solid-primitives/props';
import Zo from 'solid-presence';

var ct=createContext();function F(){return useContext(ct)}function Sn(){let r=F();if(r===void 0)throw new Error("[kobalte]: `useMenubarContext` must be used within a `Menubar` component");return r}var mt=createContext();function U(){return useContext(mt)}function kn(){let r=U();if(r===void 0)throw new Error("[kobalte]: `useNavigationMenuContext` must be used within a `NavigationMenu` component");return r}var se=createContext();function _(){let r=useContext(se);if(r===void 0)throw new Error("[kobalte]: `useMenuItemContext` must be used within a `Menu.Item` component");return r}var ae=createContext();function ue(){return useContext(ae)}function b(){let r=ue();if(r===void 0)throw new Error("[kobalte]: `useMenuContext` must be used within a `Menu` component");return r}var ce=createContext();function x(){let r=useContext(ce);if(r===void 0)throw new Error("[kobalte]: `useMenuRootContext` must be used within a `MenuRoot` component");return r}function $(r){let n,s=x(),e$1=b(),t=mergeDefaultProps({id:s.generateId(`item-${createUniqueId()}`)},r),[o,u]=splitProps(t,["ref","textValue","disabled","closeOnSelect","checked","indeterminate","onSelect","onPointerMove","onPointerLeave","onPointerDown","onPointerUp","onClick","onKeyDown","onMouseDown","onFocus"]),[l,c]=createSignal(),[M,m]=createSignal(),[g,w]=createSignal(),I=()=>e$1.listState().selectionManager(),C=()=>u.id,O=()=>I().focusedKey()===C(),v=()=>{o.onSelect?.(),o.closeOnSelect&&setTimeout(()=>{e$1.close(!0);});};e({getItem:()=>({ref:()=>n,type:"item",key:C(),textValue:o.textValue??g()?.textContent??n?.textContent??"",disabled:o.disabled??!1})});let a=f({key:C,selectionManager:I,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,disabled:()=>o.disabled},()=>n),h=f=>{callHandler(f,o.onPointerMove),f.pointerType==="mouse"&&(o.disabled?e$1.onItemLeave(f):(e$1.onItemEnter(f),!f.defaultPrevented&&!e$1.autoFocusDisabled()&&(focusWithoutScrolling(f.currentTarget),e$1.listState().selectionManager().setFocused(!0),e$1.listState().selectionManager().setFocusedKey(C()))));},i=f=>{callHandler(f,o.onPointerLeave),f.pointerType==="mouse"&&e$1.onItemLeave(f);},d=f=>{callHandler(f,o.onPointerUp),!o.disabled&&f.button===0&&v();},D=f=>{if(callHandler(f,o.onKeyDown),!f.repeat&&!o.disabled)switch(f.key){case"Enter":case" ":v();break}},L=createMemo(()=>{if(o.indeterminate)return "mixed";if(o.checked!=null)return o.checked}),B=createMemo(()=>({"data-indeterminate":o.indeterminate?"":void 0,"data-checked":o.checked&&!o.indeterminate?"":void 0,"data-disabled":o.disabled?"":void 0,"data-highlighted":O()?"":void 0})),G={isChecked:()=>o.checked,dataset:B,setLabelRef:w,generateId:createGenerateId(()=>u.id),registerLabel:a$3(c),registerDescription:a$3(m)};return createComponent(se.Provider,{value:G,get children(){return createComponent(a$4,mergeProps({as:"div",ref(f){let T=mergeRefs(oe=>n=oe,o.ref);typeof T=="function"&&T(f);},get tabIndex(){return a.tabIndex()},get"aria-checked"(){return L()},get"aria-disabled"(){return o.disabled},get"aria-labelledby"(){return l()},get"aria-describedby"(){return M()},get"data-key"(){return a.dataKey()},get onPointerDown(){return composeEventHandlers([o.onPointerDown,a.onPointerDown])},get onPointerUp(){return composeEventHandlers([d,a.onPointerUp])},get onClick(){return composeEventHandlers([o.onClick,a.onClick])},get onKeyDown(){return composeEventHandlers([D,a.onKeyDown])},get onMouseDown(){return composeEventHandlers([o.onMouseDown,a.onMouseDown])},get onFocus(){return composeEventHandlers([o.onFocus,a.onFocus])},onPointerMove:h,onPointerLeave:i},B,u))}})}function or(r){let n=mergeDefaultProps({closeOnSelect:!1},r),[s,e]=splitProps(n,["checked","defaultChecked","onChange","onSelect"]),t=a({isSelected:()=>s.checked,defaultIsSelected:()=>s.defaultChecked,onSelectedChange:u=>s.onChange?.(u),isDisabled:()=>e.disabled});return createComponent($,mergeProps({role:"menuitemcheckbox",get checked(){return t.isSelected()},onSelect:()=>{s.onSelect?.(),t.toggle();}},e))}var A={next:(r,n)=>r==="ltr"?n==="horizontal"?"ArrowRight":"ArrowDown":n==="horizontal"?"ArrowLeft":"ArrowUp",previous:(r,n)=>A.next(r==="ltr"?"rtl":"ltr",n)},Ee={first:r=>r==="horizontal"?"ArrowDown":"ArrowRight",last:r=>r==="horizontal"?"ArrowUp":"ArrowLeft"};function gr(r){let n=x(),s=b(),e=F(),{direction:t}=g(),o=mergeDefaultProps({id:n.generateId("trigger")},r),[u,l]=splitProps(o,["ref","id","disabled","onPointerDown","onClick","onKeyDown","onMouseOver","onFocus"]),c=()=>n.value();e!==void 0&&(c=()=>n.value()??u.id,e.lastValue()===void 0&&e.setLastValue(c));let M=a$1(()=>s.triggerRef(),()=>"button"),m=createMemo(()=>M()==="a"&&s.triggerRef()?.getAttribute("href")!=null);createEffect(on(()=>e?.value(),a=>{m()&&a===c()&&s.triggerRef()?.focus();}));let g$1=()=>{e!==void 0?s.isOpen()?e.value()===c()&&e.closeMenu():(e.autoFocusMenu()||e.setAutoFocusMenu(!0),s.open(!1)):s.toggle(!0);},w=a=>{callHandler(a,u.onPointerDown),a.currentTarget.dataset.pointerType=a.pointerType,!u.disabled&&a.pointerType!=="touch"&&a.button===0&&g$1();},I=a=>{callHandler(a,u.onClick),u.disabled||a.currentTarget.dataset.pointerType==="touch"&&g$1();},C=a=>{if(callHandler(a,u.onKeyDown),!u.disabled){if(m())switch(a.key){case"Enter":case" ":return}switch(a.key){case"Enter":case" ":case Ee.first(n.orientation()):a.stopPropagation(),a.preventDefault(),scrollIntoViewport(a.currentTarget),s.open("first"),e?.setAutoFocusMenu(!0),e?.setValue(c);break;case Ee.last(n.orientation()):a.stopPropagation(),a.preventDefault(),s.open("last");break;case A.next(t(),n.orientation()):if(e===void 0)break;a.stopPropagation(),a.preventDefault(),e.nextMenu();break;case A.previous(t(),n.orientation()):if(e===void 0)break;a.stopPropagation(),a.preventDefault(),e.previousMenu();break}}},O=a=>{callHandler(a,u.onMouseOver),s.triggerRef()?.dataset.pointerType!=="touch"&&!u.disabled&&e!==void 0&&e.value()!==void 0&&e.setValue(c);},v=a=>{callHandler(a,u.onFocus),e!==void 0&&a.currentTarget.dataset.pointerType!=="touch"&&e.setValue(c);};return createEffect(()=>onCleanup(s.registerTriggerId(u.id))),createComponent(a$2,mergeProps({ref(a){let h=mergeRefs(s.setTriggerRef,u.ref);typeof h=="function"&&h(a);},get"data-kb-menu-value-trigger"(){return n.value()},get id(){return u.id},get disabled(){return u.disabled},"aria-haspopup":"true",get"aria-expanded"(){return s.isOpen()},get"aria-controls"(){return memo(()=>!!s.isOpen())()?s.contentId():void 0},get"data-highlighted"(){return c()!==void 0&&e?.value()===c()?!0:void 0},get tabIndex(){return e!==void 0?e.value()===c()||e.lastValue()===c()?0:-1:void 0},onPointerDown:w,onMouseOver:O,onClick:I,onKeyDown:C,onFocus:v,role:e!==void 0?"menuitem":void 0},()=>s.dataset(),l))}function j(r){let n,s=x(),e=b(),t=F(),o=U(),{direction:u}=g(),l=mergeDefaultProps({id:s.generateId(`content-${createUniqueId()}`)},r),[c,M]=splitProps(l,["ref","id","style","onOpenAutoFocus","onCloseAutoFocus","onEscapeKeyDown","onFocusOutside","onPointerEnter","onPointerMove","onKeyDown","onMouseDown","onFocusIn","onFocusOut"]),m=0,g$1=()=>e.parentMenuContext()==null&&t===void 0&&s.isModal(),w=b$1({selectionManager:e.listState().selectionManager,collection:e.listState().collection,autoFocus:e.autoFocus,deferAutoFocus:!0,shouldFocusWrap:!0,disallowTypeAhead:()=>!e.listState().selectionManager().isFocused(),orientation:()=>s.orientation()==="horizontal"?"vertical":"horizontal"},()=>n);a$7({trapFocus:()=>g$1()&&e.isOpen(),onMountAutoFocus:i=>{t===void 0&&c.onOpenAutoFocus?.(i);},onUnmountAutoFocus:c.onCloseAutoFocus},()=>n);let I=i=>{if(contains(i.currentTarget,i.target)&&(i.key==="Tab"&&e.isOpen()&&i.preventDefault(),t!==void 0&&i.currentTarget.getAttribute("aria-haspopup")!=="true"))switch(i.key){case A.next(u(),s.orientation()):i.stopPropagation(),i.preventDefault(),e.close(!0),t.setAutoFocusMenu(!0),t.nextMenu();break;case A.previous(u(),s.orientation()):if(i.currentTarget.hasAttribute("data-closed"))break;i.stopPropagation(),i.preventDefault(),e.close(!0),t.setAutoFocusMenu(!0),t.previousMenu();break}},C=i=>{c.onEscapeKeyDown?.(i),t?.setAutoFocusMenu(!1),e.close(!0);},O=i=>{c.onFocusOutside?.(i),s.isModal()&&i.preventDefault();},v=i=>{callHandler(i,c.onPointerEnter),e.isOpen()&&(e.parentMenuContext()?.listState().selectionManager().setFocused(!1),e.parentMenuContext()?.listState().selectionManager().setFocusedKey(void 0));},a=i=>{if(callHandler(i,c.onPointerMove),i.pointerType!=="mouse")return;let d=i.target,D=m!==i.clientX;contains(i.currentTarget,d)&&D&&(e.setPointerDir(i.clientX>m?"right":"left"),m=i.clientX);};createEffect(()=>onCleanup(e.registerContentId(c.id))),onCleanup(()=>e.setContentRef(void 0));let h={ref:mergeRefs(i=>{e.setContentRef(i),n=i;},c.ref),role:"menu",get id(){return c.id},get tabIndex(){return w.tabIndex()},get"aria-labelledby"(){return e.triggerId()},onKeyDown:composeEventHandlers([c.onKeyDown,w.onKeyDown,I]),onMouseDown:composeEventHandlers([c.onMouseDown,w.onMouseDown]),onFocusIn:composeEventHandlers([c.onFocusIn,w.onFocusIn]),onFocusOut:composeEventHandlers([c.onFocusOut,w.onFocusOut]),onPointerEnter:v,onPointerMove:a,get"data-orientation"(){return s.orientation()}};return createComponent(Show,{get when(){return e.contentPresent()},get children(){return createComponent(Show,{get when(){return o===void 0||e.parentMenuContext()!=null},get fallback(){return createComponent(a$4,mergeProps({as:"div"},()=>e.dataset(),h,M))},get children(){return createComponent(f$1.Positioner,{get children(){return createComponent(a$8,mergeProps({get disableOutsidePointerEvents(){return memo(()=>!!g$1())()&&e.isOpen()},get excludedElements(){return [e.triggerRef]},bypassTopMostLayerCheck:!0,get style(){return combineStyle({"--kb-menu-content-transform-origin":"var(--kb-popper-content-transform-origin)",position:"relative"},c.style)},onEscapeKeyDown:C,onFocusOutside:O,get onDismiss(){return e.close}},()=>e.dataset(),h,M))}})}})}})}function Br(r){let n,s=x(),e=b(),[t,o]=splitProps(r,["ref"]);return Jt({element:()=>n??null,enabled:()=>e.contentPresent()&&s.preventScroll()}),createComponent(j,mergeProps({ref(u){let l=mergeRefs(c=>{n=c;},t.ref);typeof l=="function"&&l(u);}},o))}var le=createContext();function Ue(){let r=useContext(le);if(r===void 0)throw new Error("[kobalte]: `useMenuGroupContext` must be used within a `Menu.Group` component");return r}function Ve(r){let n=x(),s=mergeDefaultProps({id:n.generateId(`group-${createUniqueId()}`)},r),[e,t]=createSignal(),o={generateId:createGenerateId(()=>s.id),registerLabelId:a$3(t)};return createComponent(le.Provider,{value:o,get children(){return createComponent(a$4,mergeProps({as:"div",role:"group",get"aria-labelledby"(){return e()}},s))}})}function ui(r){let n=Ue(),s=mergeDefaultProps({id:n.generateId("label")},r),[e,t]=splitProps(s,["id"]);return createEffect(()=>onCleanup(n.registerLabelId(e.id))),createComponent(a$4,mergeProps({as:"span",get id(){return e.id},"aria-hidden":"true"},t))}function gi(r){let n=b(),s=mergeDefaultProps({children:"\u25BC"},r);return createComponent(a$4,mergeProps({as:"span","aria-hidden":"true"},()=>n.dataset(),s))}function hi(r){return createComponent($,mergeProps({role:"menuitem",closeOnSelect:!0},r))}function Oi(r){let n=_(),s=mergeDefaultProps({id:n.generateId("description")},r),[e,t]=splitProps(s,["id"]);return createEffect(()=>onCleanup(n.registerDescription(e.id))),createComponent(a$4,mergeProps({as:"div",get id(){return e.id}},()=>n.dataset(),t))}function Li(r){let n=_(),s=mergeDefaultProps({id:n.generateId("indicator")},r),[e,t]=splitProps(s,["forceMount"]);return createComponent(Show,{get when(){return e.forceMount||n.isChecked()},get children(){return createComponent(a$4,mergeProps({as:"div"},()=>n.dataset(),t))}})}function Yi(r){let n=_(),s=mergeDefaultProps({id:n.generateId("label")},r),[e,t]=splitProps(s,["ref","id"]);return createEffect(()=>onCleanup(n.registerLabel(e.id))),createComponent(a$4,mergeProps({as:"div",ref(o){let u=mergeRefs(n.setLabelRef,e.ref);typeof u=="function"&&u(o);},get id(){return e.id}},()=>n.dataset(),t))}function Qi(r){let n=b();return createComponent(Show,{get when(){return n.contentPresent()},get children(){return createComponent(Portal,r)}})}var me=createContext();function He(){let r=useContext(me);if(r===void 0)throw new Error("[kobalte]: `useMenuRadioGroupContext` must be used within a `Menu.RadioGroup` component");return r}function cs(r){let s=x().generateId(`radiogroup-${createUniqueId()}`),e=mergeDefaultProps({id:s},r),[t,o]=splitProps(e,["value","defaultValue","onChange","disabled"]),[u,l]=a$5({value:()=>t.value,defaultValue:()=>t.defaultValue,onChange:M=>t.onChange?.(M)}),c={isDisabled:()=>t.disabled,isSelectedValue:M=>M===u(),setSelectedValue:M=>l(M)};return createComponent(me.Provider,{value:c,get children(){return createComponent(Ve,o)}})}function Ms(r){let n=He(),s=mergeDefaultProps({closeOnSelect:!1},r),[e,t]=splitProps(s,["value","onSelect"]);return createComponent($,mergeProps({role:"menuitemradio",get checked(){return n.isSelectedValue(e.value)},onSelect:()=>{e.onSelect?.(),n.setSelectedValue(e.value);}},t))}function Xe(r,n,s){let e=r.split("-")[0],t=s.getBoundingClientRect(),o=[],u=n.clientX,l=n.clientY;switch(e){case"top":o.push([u,l+5]),o.push([t.left,t.bottom]),o.push([t.left,t.top]),o.push([t.right,t.top]),o.push([t.right,t.bottom]);break;case"right":o.push([u-5,l]),o.push([t.left,t.top]),o.push([t.right,t.top]),o.push([t.right,t.bottom]),o.push([t.left,t.bottom]);break;case"bottom":o.push([u,l-5]),o.push([t.right,t.top]),o.push([t.right,t.bottom]),o.push([t.left,t.bottom]),o.push([t.left,t.top]);break;case"left":o.push([u+5,l]),o.push([t.right,t.bottom]),o.push([t.left,t.bottom]),o.push([t.left,t.top]),o.push([t.right,t.top]);break}return o}function We(r,n){return n?isPointInPolygon([r.clientX,r.clientY],n):!1}function Z(r){let n=x(),s=b$2(),e=ue(),t=F(),o=U(),u=mergeDefaultProps({placement:n.orientation()==="horizontal"?"bottom-start":"right-start"},r),[l,c]=splitProps(u,["open","defaultOpen","onOpenChange","preventAutoFocusWhenClosed"]),M=0,m=null,g="right",[w,I]=createSignal(),[C,O]=createSignal(),[v,a]=createSignal(),[h,i$1]=createSignal(),[d$1,D]=createSignal(!0),[L,B]=createSignal(c.placement),[G,f]=createSignal([]),[T,oe]=createSignal([]),{DomCollectionProvider:Ze}=d({items:T,onItemsChange:oe}),y=a$6({open:()=>l.open,defaultOpen:()=>l.defaultOpen,onOpenChange:p=>l.onOpenChange?.(p)}),{present:et}=Zo({show:()=>n.forceMount()||y.isOpen(),element:()=>h()??null}),ne=i({selectionMode:"none",dataSource:T}),fe=p=>{D(p),y.open();},ge=(p=!1)=>{y.close(),p&&e&&e.close(!0);},tt=p=>{D(p),y.toggle();},Ce=()=>!y.isOpen()&&!!l.preventAutoFocusWhenClosed,Me=()=>{if(Ce())return;let p=h();p&&(focusWithoutScrolling(p),ne.selectionManager().setFocused(!0),ne.selectionManager().setFocusedKey(void 0));},Pe=()=>{o!=null?setTimeout(()=>Me()):Me();},ot=p=>{f(ie=>[...ie,p]);let z=e?.registerNestedMenu(p);return ()=>{f(ie=>removeItemFromArray(ie,p)),z?.();}},re=p=>g===m?.side&&We(p,m?.area),nt=p=>{re(p)&&p.preventDefault();},rt=p=>{re(p)||Pe();},it=p=>{re(p)&&p.preventDefault();};a$9({isDisabled:()=>!(e==null&&y.isOpen()&&n.isModal()),targets:()=>[h(),...G()].filter(Boolean)}),createEffect(()=>{let p=h();if(!p||!e)return;let z=e.registerNestedMenu(p);onCleanup(()=>{z();});}),createEffect(()=>{e===void 0&&t?.registerMenu(n.value(),[h(),...G()]);}),createEffect(()=>{e!==void 0||t===void 0||(t.value()===n.value()?(v()?.focus(),t.autoFocusMenu()&&fe(!0)):ge());}),createEffect(()=>{e!==void 0||t===void 0||y.isOpen()&&t.setValue(n.value());}),onCleanup(()=>{e===void 0&&t?.unregisterMenu(n.value());});let st={dataset:createMemo(()=>({"data-expanded":y.isOpen()?"":void 0,"data-closed":y.isOpen()?void 0:""})),isOpen:y.isOpen,contentPresent:et,nestedMenus:G,currentPlacement:L,pointerGraceTimeoutId:()=>M,autoFocus:d$1,listState:()=>ne,parentMenuContext:()=>e,triggerRef:v,contentRef:h,triggerId:w,contentId:C,setTriggerRef:a,setContentRef:i$1,open:fe,close:ge,toggle:tt,focusContent:Pe,onItemEnter:nt,onItemLeave:rt,onTriggerLeave:it,setPointerDir:p=>g=p,setPointerGraceTimeoutId:p=>M=p,setPointerGraceIntent:p=>m=p,registerNestedMenu:ot,registerItemToParentDomCollection:s?.registerItem,registerTriggerId:a$3(I),registerContentId:a$3(O),autoFocusDisabled:Ce};return createComponent(Ze,{get children(){return createComponent(ae.Provider,{value:st,get children(){return createComponent(Show,{when:o===void 0,get fallback(){return c.children},get children(){return createComponent(f$1,mergeProps({anchorRef:v,contentRef:h,onCurrentPlacementChange:B},c))}})}})}})}function Vs(r){let{direction:n}=g();return createComponent(Z,mergeProps({get placement(){return n()==="rtl"?"left-start":"right-start"},flip:!0},r))}var un={close:(r,n)=>r==="ltr"?[n==="horizontal"?"ArrowLeft":"ArrowUp"]:[n==="horizontal"?"ArrowRight":"ArrowDown"]};function Qs(r){let n=b(),s=x(),[e,t]=splitProps(r,["onFocusOutside","onKeyDown"]),{direction:o}=g();return createComponent(j,mergeProps({onOpenAutoFocus:m=>{m.preventDefault();},onCloseAutoFocus:m=>{m.preventDefault();},onFocusOutside:m=>{e.onFocusOutside?.(m);let g=m.target;contains(n.triggerRef(),g)||n.close();},onKeyDown:m=>{callHandler(m,e.onKeyDown);let g=contains(m.currentTarget,m.target),w=un.close(o(),s.orientation()).includes(m.key),I=n.parentMenuContext()!=null;g&&w&&I&&(n.close(),focusWithoutScrolling(n.triggerRef()));}},t))}var Je=["Enter"," "],xn={open:(r,n)=>r==="ltr"?[...Je,n==="horizontal"?"ArrowRight":"ArrowDown"]:[...Je,n==="horizontal"?"ArrowLeft":"ArrowUp"]};function ma(r){let n,s=x(),e=b(),t=mergeDefaultProps({id:s.generateId(`sub-trigger-${createUniqueId()}`)},r),[o,u]=splitProps(t,["ref","id","textValue","disabled","onPointerMove","onPointerLeave","onPointerDown","onPointerUp","onClick","onKeyDown","onMouseDown","onFocus"]),l=null,c=()=>{isServer||(l&&window.clearTimeout(l),l=null);},{direction:M}=g(),m=()=>o.id,g$1=()=>{let i=e.parentMenuContext();if(i==null)throw new Error("[kobalte]: `Menu.SubTrigger` must be used within a `Menu.Sub` component");return i.listState().selectionManager()},w=()=>e.listState().collection(),I=()=>g$1().focusedKey()===m(),C=f({key:m,selectionManager:g$1,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,disabled:()=>o.disabled},()=>n),O=i=>{callHandler(i,o.onClick),!e.isOpen()&&!o.disabled&&e.open(!0);},v=i=>{if(callHandler(i,o.onPointerMove),i.pointerType!=="mouse")return;let d=e.parentMenuContext();if(d?.onItemEnter(i),!i.defaultPrevented){if(o.disabled){d?.onItemLeave(i);return}!e.isOpen()&&!l&&(e.parentMenuContext()?.setPointerGraceIntent(null),l=window.setTimeout(()=>{e.open(!1),c();},100)),d?.onItemEnter(i),i.defaultPrevented||(e.listState().selectionManager().isFocused()&&(e.listState().selectionManager().setFocused(!1),e.listState().selectionManager().setFocusedKey(void 0)),focusWithoutScrolling(i.currentTarget),d?.listState().selectionManager().setFocused(!0),d?.listState().selectionManager().setFocusedKey(m()));}},a=i=>{if(callHandler(i,o.onPointerLeave),i.pointerType!=="mouse")return;c();let d=e.parentMenuContext(),D=e.contentRef();if(D){d?.setPointerGraceIntent({area:Xe(e.currentPlacement(),i,D),side:e.currentPlacement().split("-")[0]}),window.clearTimeout(d?.pointerGraceTimeoutId());let L=window.setTimeout(()=>{d?.setPointerGraceIntent(null);},300);d?.setPointerGraceTimeoutId(L);}else {if(d?.onTriggerLeave(i),i.defaultPrevented)return;d?.setPointerGraceIntent(null);}d?.onItemLeave(i);},h=i=>{callHandler(i,o.onKeyDown),!i.repeat&&(o.disabled||xn.open(M(),s.orientation()).includes(i.key)&&(i.stopPropagation(),i.preventDefault(),g$1().setFocused(!1),g$1().setFocusedKey(void 0),e.isOpen()||e.open("first"),e.focusContent(),e.listState().selectionManager().setFocused(!0),e.listState().selectionManager().setFocusedKey(w().getFirstKey())));};return createEffect(()=>{if(e.registerItemToParentDomCollection==null)throw new Error("[kobalte]: `Menu.SubTrigger` must be used within a `Menu.Sub` component");let i=e.registerItemToParentDomCollection({ref:()=>n,type:"item",key:m(),textValue:o.textValue??n?.textContent??"",disabled:o.disabled??!1});onCleanup(i);}),createEffect(on(()=>e.parentMenuContext()?.pointerGraceTimeoutId(),i=>{onCleanup(()=>{window.clearTimeout(i),e.parentMenuContext()?.setPointerGraceIntent(null);});})),createEffect(()=>onCleanup(e.registerTriggerId(o.id))),onCleanup(()=>{c();}),createComponent(a$4,mergeProps({as:"div",ref(i){let d=mergeRefs(D=>{e.setTriggerRef(D),n=D;},o.ref);typeof d=="function"&&d(i);},get id(){return o.id},role:"menuitem",get tabIndex(){return C.tabIndex()},"aria-haspopup":"true",get"aria-expanded"(){return e.isOpen()},get"aria-controls"(){return memo(()=>!!e.isOpen())()?e.contentId():void 0},get"aria-disabled"(){return o.disabled},get"data-key"(){return C.dataKey()},get"data-highlighted"(){return I()?"":void 0},get"data-disabled"(){return o.disabled?"":void 0},get onPointerDown(){return composeEventHandlers([o.onPointerDown,C.onPointerDown])},get onPointerUp(){return composeEventHandlers([o.onPointerUp,C.onPointerUp])},get onClick(){return composeEventHandlers([O,C.onClick])},get onKeyDown(){return composeEventHandlers([h,C.onKeyDown])},get onMouseDown(){return composeEventHandlers([o.onMouseDown,C.onMouseDown])},get onFocus(){return composeEventHandlers([o.onFocus,C.onFocus])},onPointerMove:v,onPointerLeave:a},()=>e.dataset(),u))}function wa(r){let n=F(),s=`menu-${createUniqueId()}`,e=mergeDefaultProps({id:s,modal:!0},r),[t,o]=splitProps(e,["id","modal","preventScroll","forceMount","open","defaultOpen","onOpenChange","value","orientation"]),u=a$6({open:()=>t.open,defaultOpen:()=>t.defaultOpen,onOpenChange:c=>t.onOpenChange?.(c)}),l={isModal:()=>t.modal??!0,preventScroll:()=>t.preventScroll??l.isModal(),forceMount:()=>t.forceMount??!1,generateId:createGenerateId(()=>t.id),value:()=>t.value,orientation:()=>t.orientation??n?.orientation()??"horizontal"};return createComponent(ce.Provider,{value:l,get children(){return createComponent(Z,mergeProps({get open(){return u.isOpen()},get onOpenChange(){return u.setIsOpen}},o))}})}

export { ct as a, Sn as b, mt as c, kn as d, ue as e, b as f, x as g, _ as h, or as i, gr as j, Br as k, Ve as l, ui as m, gi as n, hi as o, Oi as p, Li as q, Yi as r, Qi as s, cs as t, Ms as u, wa as v, Vs as w, Qs as x, ma as y };
