import{e as a}from"./M3KDFM4U.jsx";import{h as r}from"./ZSYY5OQU.jsx";var c=class{collection;ref;collator;constructor(t,e,o){this.collection=t,this.ref=e,this.collator=o}getKeyBelow(t){let e=this.collection().getKeyAfter(t);for(;e!=null;){let o=this.collection().getItem(e);if(o&&o.type==="item"&&!o.disabled)return e;e=this.collection().getKeyAfter(e)}}getKeyAbove(t){let e=this.collection().getKeyBefore(t);for(;e!=null;){let o=this.collection().getItem(e);if(o&&o.type==="item"&&!o.disabled)return e;e=this.collection().getKeyBefore(e)}}getFirstKey(){let t=this.collection().getFirstKey();for(;t!=null;){let e=this.collection().getItem(t);if(e&&e.type==="item"&&!e.disabled)return t;t=this.collection().getKeyAfter(t)}}getLastKey(){let t=this.collection().getLastKey();for(;t!=null;){let e=this.collection().getItem(t);if(e&&e.type==="item"&&!e.disabled)return t;t=this.collection().getKeyBefore(t)}}getItem(t){return this.ref?.()?.querySelector(`[data-key="${t}"]`)??null}getKeyPageAbove(t){let e=this.ref?.(),o=this.getItem(t);if(!e||!o)return;let n=Math.max(0,o.offsetTop+o.offsetHeight-e.offsetHeight),l=t;for(;l&&o&&o.offsetTop>n;)l=this.getKeyAbove(l),o=l!=null?this.getItem(l):null;return l}getKeyPageBelow(t){let e=this.ref?.(),o=this.getItem(t);if(!e||!o)return;let n=Math.min(e.scrollHeight,o.offsetTop-o.offsetHeight+e.offsetHeight),l=t;for(;l&&o&&o.offsetTop<n;)l=this.getKeyBelow(l),o=l!=null?this.getItem(l):null;return l}getKeyForSearch(t,e){let o=this.collator?.();if(!o)return;let n=e!=null?this.getKeyBelow(e):this.getFirstKey();for(;n!=null;){let l=this.collection().getItem(n);if(l){let u=l.textValue.slice(0,t.length);if(l.textValue&&o.compare(u,t)===0)return n}n=this.getKeyBelow(n)}}};import{access as s}from"@kobalte/utils";import{createMemo as d}from"solid-js";function A(i,t,e){let o=r({usage:"search",sensitivity:"base"}),n=d(()=>{let l=s(i.keyboardDelegate);return l||new c(i.collection,t,o)});return a({selectionManager:()=>s(i.selectionManager),keyboardDelegate:n,autoFocus:()=>s(i.autoFocus),deferAutoFocus:()=>s(i.deferAutoFocus),shouldFocusWrap:()=>s(i.shouldFocusWrap),disallowEmptySelection:()=>s(i.disallowEmptySelection),selectOnFocus:()=>s(i.selectOnFocus),disallowTypeAhead:()=>s(i.disallowTypeAhead),shouldUseVirtualFocus:()=>s(i.shouldUseVirtualFocus),allowsTabNavigation:()=>s(i.allowsTabNavigation),isVirtualized:()=>s(i.isVirtualized),scrollToKey:l=>s(i.scrollToKey)?.(l),orientation:()=>s(i.orientation)},t,e)}export{c as a,A as b};
