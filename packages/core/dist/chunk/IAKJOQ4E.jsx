import{a as F,b as Fe,c as H,d as He,e as D}from"./Z74EZM6S.jsx";import{a as I,b as X}from"./YU3BENDD.jsx";import{a as K}from"./MYEAQNC4.jsx";import{a as Ve}from"./RQL65DCQ.jsx";import{a as J}from"./27VXZQWW.jsx";import{a as ve,b as xe,c as Ce,d as Ee,e as B}from"./HIUHMFLS.jsx";import{d as Me,e as Re}from"./5IMLYAJ7.jsx";import{g as Le,k as De}from"./ZSYY5OQU.jsx";import{c as ye}from"./A5YUKSV6.jsx";import{a as C}from"./HAEWETXL.jsx";import{a as Ye}from"./XWCF3RNR.jsx";var Vt={};Ye(Vt,{Description:()=>B,ErrorMessage:()=>J,Fill:()=>N,Input:()=>G,Label:()=>K,Root:()=>Q,Slider:()=>yt,Thumb:()=>_,Track:()=>Se,ValueLabel:()=>fe,useSliderContext:()=>y});import{splitProps as Ge}from"solid-js";import{combineStyle as qe}from"@solid-primitives/props";import{createContext as Ne,useContext as _e}from"solid-js";var Y=Ne();function y(){let l=_e(Y);if(l===void 0)throw new Error("[kobalte]: `useSliderContext` must be used within a `Slider.Root` component");return l}function N(l){let t=y(),[e,S]=Ge(l,["style"]),o=()=>t.state.values().map(d=>t.state.getValuePercent(d)*100),m=()=>t.state.values().length>1?Math.min(...o()):0,P=()=>100-Math.max(...o());return<C as="div"style={qe({[t.startEdge()]:`${m()}%`,[t.endEdge()]:`${P()}%`},e.style)}{...t.dataset()}{...S}/>}import{callHandler as nt,mergeDefaultProps as ot,visuallyHiddenStyles as it}from"@kobalte/utils";import{createEffect as at,createSignal as lt,splitProps as st}from"solid-js";import{combineStyle as mt}from"@solid-primitives/props";import{callHandler as R,mergeDefaultProps as We,mergeRefs as $e}from"@kobalte/utils";import{createContext as je,createUniqueId as Qe,onMount as Ze,splitProps as et,useContext as tt}from"solid-js";import{combineStyle as rt}from"@solid-primitives/props";function _(l){let t,e=y(),S=We({id:e.generateId(`thumb-${Qe()}`)},l),[o,m,P]=et(S,["ref","style","onKeyDown","onPointerDown","onPointerMove","onPointerUp","onFocus","onBlur"],I),{fieldProps:d}=X(m);Re({getItem:()=>({ref:()=>t,disabled:e.state.isDisabled(),key:d.id(),textValue:"",type:"item"})});let c=()=>t?e.thumbs().findIndex(i=>i.ref()===t):-1,g=()=>e.state.getThumbValue(c()),n=()=>e.state.getThumbPercent(c()),s=()=>e.state.orientation()==="vertical"?e.inverted()?"translateY(-50%)":"translateY(50%)":e.inverted()?"translateX(50%)":"translateX(-50%)",u=0,T=i=>{R(i,o.onKeyDown),e.onStepKeyDown(i,c())},f=i=>{R(i,o.onPointerDown);let x=i.currentTarget;i.preventDefault(),i.stopPropagation(),x.setPointerCapture(i.pointerId),x.focus(),u=e.state.orientation()==="horizontal"?i.clientX:i.clientY,g()!==void 0&&e.onSlideStart?.(c(),g())},v=i=>{if(i.stopPropagation(),R(i,o.onPointerMove),i.currentTarget.hasPointerCapture(i.pointerId)){let V={deltaX:i.clientX-u,deltaY:i.clientY-u};e.onSlideMove?.(V),u=e.state.orientation()==="horizontal"?i.clientX:i.clientY}},E=i=>{i.stopPropagation(),R(i,o.onPointerUp);let x=i.currentTarget;x.hasPointerCapture(i.pointerId)&&(x.releasePointerCapture(i.pointerId),e.onSlideEnd?.())},h=i=>{R(i,o.onFocus),e.state.setFocusedThumb(c())},M=i=>{R(i,o.onBlur),e.state.setFocusedThumb(void 0)};return Ze(()=>{e.state.setThumbEditable(c(),!e.state.isDisabled())}),<Oe.Provider value={{index:c}}><C as="span"ref={$e(i=>t=i,o.ref)}role="slider"id={d.id()}tabIndex={e.state.isDisabled()?void 0:0}style={rt({display:g()===void 0?"none":void 0,position:"absolute",[e.startEdge()]:`calc(${n()*100}%)`,transform:s(),"touch-action":"none"},o.style)}aria-valuetext={e.state.getThumbValueLabel(c())}aria-valuemin={e.minValue()}aria-valuenow={g()}aria-valuemax={e.maxValue()}aria-orientation={e.state.orientation()}aria-label={d.ariaLabel()}aria-labelledby={d.ariaLabelledBy()}aria-describedby={d.ariaDescribedBy()}onKeyDown={T}onPointerDown={f}onPointerMove={v}onPointerUp={E}onFocus={h}onBlur={M}{...e.dataset()}{...P}/></Oe.Provider>}var Oe=je();function we(){let l=tt(Oe);if(l===void 0)throw new Error("[kobalte]: `useThumbContext` must be used within a `Slider.Thumb` component");return l}function G(l){let t=Ee(),e=y(),S=we(),o=ot({id:e.generateId("input")},l),[m,P,d]=st(o,["style","onChange"],I),{fieldProps:c}=X(P),[g,n]=lt(""),s=u=>{nt(u,m.onChange);let T=u.target;e.state.setThumbValue(S.index(),Number.parseFloat(T.value)),T.value=String(e.state.values()[S.index()])??""};return at(()=>{n(S.index()===-1?"":e.state.getThumbValueLabel(S.index()))}),<input type="range"id={c.id()}name={t.name()}tabIndex={e.state.isDisabled()?void 0:-1}min={e.state.getThumbMinValue(S.index())}max={e.state.getThumbMaxValue(S.index())}step={e.state.step()}value={e.state.values()[S.index()]}required={t.isRequired()}disabled={t.isDisabled()}readonly={t.isReadOnly()}style={mt({...it},m.style)}aria-orientation={e.state.orientation()}aria-valuetext={g()}aria-label={c.ariaLabel()}aria-labelledby={c.ariaLabelledBy()}aria-describedby={c.ariaDescribedBy()}aria-invalid={t.validationState()==="invalid"||void 0}aria-required={t.isRequired()||void 0}aria-disabled={t.isDisabled()||void 0}aria-readonly={t.isReadOnly()||void 0}onChange={s}{...e.dataset()}{...d}/>}import{access as ke,clamp as pt,createGenerateId as ct,mergeDefaultProps as bt,mergeRefs as St}from"@kobalte/utils";import{createMemo as $,createSignal as Ue,createUniqueId as ft,splitProps as Pt}from"solid-js";import{clamp as dt,mergeDefaultProps as ut,snapValueToStep as q}from"@kobalte/utils";import{createMemo as Ie,createSignal as W}from"solid-js";function Ae(l){let t=!1,e=ut({minValue:()=>0,maxValue:()=>100,step:()=>1,minStepsBetweenThumbs:()=>0,orientation:()=>"horizontal",isDisabled:()=>!1},l),S=Ie(()=>{let r=(e.maxValue()-e.minValue())/10;return r=q(r,0,r+e.step(),e.step()),Math.max(r,e.step())}),o=Ie(()=>e.defaultValue()??[e.minValue()]),[m,P]=ye({value:()=>e.value(),defaultValue:o,onChange:r=>e.onChange?.(r)}),[d,c]=W(new Array(m().length).fill(!1)),[g,n]=W(new Array(m().length).fill(!1)),[s,u]=W(void 0),T=()=>{P(o())},f=r=>(r-e.minValue())/(e.maxValue()-e.minValue()),v=r=>r===0?l.minValue():m()[r-1]+l.minStepsBetweenThumbs()*l.step(),E=r=>r===m().length-1?l.maxValue():m()[r+1]-l.minStepsBetweenThumbs()*l.step(),h=r=>g()[r],M=r=>{n(b=>(b[r]=!0,b))},i=(r,b)=>{if(e.isDisabled()||!h(r))return;let L=q(b,v(r),E(r),e.step()),a=F(m(),L,r);H(a,e.minStepsBetweenThumbs()*e.step())&&P(p=>[...Xe(p,r,L)])},x=(r,b)=>{if(e.isDisabled()||!h(r))return;let L=d()[r];c(a=>[...Xe(a,r,b)]),L&&!d().some(Boolean)&&e.onChangeEnd?.(m())},V=r=>e.numberFormatter.format(r),A=(r,b)=>{i(r,O(b))},k=r=>Math.round((r-e.minValue())/e.step())*e.step()+e.minValue(),O=r=>{let b=r*(e.maxValue()-e.minValue())+e.minValue();return dt(k(b),e.minValue(),e.maxValue())},w=(r,b)=>{let L=m()[r]+b,a=F(m(),L,r);H(a,e.minStepsBetweenThumbs()*e.step())&&i(r,q(L,e.minValue(),e.maxValue(),e.step()))};return{values:m,getThumbValue:r=>m()[r],setThumbValue:i,setThumbPercent:A,isThumbDragging:r=>d()[r],setThumbDragging:x,focusedThumb:s,setFocusedThumb:r=>{r===void 0&&t&&(t=!1,e.onChangeEnd?.(m())),u(r)},getThumbPercent:r=>f(m()[r]),getValuePercent:f,getThumbValueLabel:r=>V(m()[r]),getFormattedValue:V,getThumbMinValue:v,getThumbMaxValue:E,getPercentValue:O,isThumbEditable:h,setThumbEditable:M,incrementThumb:(r,b=1)=>{t=!0,w(r,Math.max(b,l.step()))},decrementThumb:(r,b=1)=>{t=!0,w(r,-Math.max(b,l.step()))},step:e.step,pageSize:S,orientation:e.orientation,isDisabled:e.isDisabled,setValues:P,resetValues:T}}function Xe(l,t,e){return l[t]===e?l:[...l.slice(0,t),e,...l.slice(t+1)]}function Q(l){let t,e=`slider-${ft()}`,S=bt({id:e,minValue:0,maxValue:100,step:1,minStepsBetweenThumbs:0,orientation:"horizontal",disabled:!1,inverted:!1,getValueLabel:a=>a.values.join(", ")},l),[o,m,P]=Pt(S,["ref","value","defaultValue","onChange","onChangeEnd","inverted","minValue","maxValue","step","minStepsBetweenThumbs","getValueLabel","orientation"],ve),{formControlContext:d}=xe(m),c=De(()=>({style:"decimal"})),{direction:g}=Le(),n=Ae({value:()=>o.value,defaultValue:()=>o.defaultValue??[o.minValue],maxValue:()=>o.maxValue,minValue:()=>o.minValue,minStepsBetweenThumbs:()=>o.minStepsBetweenThumbs,isDisabled:()=>d.isDisabled()??!1,orientation:()=>o.orientation,step:()=>o.step,numberFormatter:c(),onChange:o.onChange,onChangeEnd:o.onChangeEnd}),[s,u]=Ue([]),{DomCollectionProvider:T}=Me({items:s,onItemsChange:u});Ve(()=>t,()=>n.resetValues());let f=()=>g()==="ltr",v=()=>f()&&!o.inverted||!f()&&o.inverted,E=()=>!o.inverted,h=()=>n.orientation()==="vertical",M=$(()=>({...d.dataset(),"data-orientation":o.orientation})),[i,x]=Ue(),V=null,A=(a,p)=>{n.setFocusedThumb(a),n.setThumbDragging(a,!0),n.setThumbValue(a,p),V=null},k=({deltaX:a,deltaY:p})=>{let ge=n.focusedThumb();if(ge===void 0)return;let{width:Be,height:Je}=i().getBoundingClientRect(),he=h()?Je:Be;V===null&&(V=n.getThumbPercent(n.focusedThumb())*he);let U=h()?p:a;(!h()&&o.inverted||h()&&E())&&(U=-U),V+=U;let ze=pt(V/he,0,1),Ke=F(n.values(),V,ge);H(Ke,o.minStepsBetweenThumbs*n.step())&&(n.setThumbPercent(n.focusedThumb(),ze),o.onChange?.(n.values()))},O=()=>{let a=n.focusedThumb();a!==void 0&&(n.setThumbDragging(a,!1),s()[a].ref().focus())},w=a=>{let p=n.focusedThumb();!d.isDisabled()&&p!==void 0&&(D(a),n.setThumbValue(p,n.getThumbMinValue(p)))},Pe=a=>{let p=n.focusedThumb();!d.isDisabled()&&p!==void 0&&(D(a),n.setThumbValue(p,n.getThumbMaxValue(p)))},Te=(a,p)=>{if(!d.isDisabled())switch(a.key){case"Left":case"ArrowLeft":case"Down":case"ArrowDown":D(a),f()?n.decrementThumb(p,a.shiftKey?n.pageSize():n.step()):n.incrementThumb(p,a.shiftKey?n.pageSize():n.step());break;case"Right":case"ArrowRight":case"Up":case"ArrowUp":D(a),f()?n.incrementThumb(p,a.shiftKey?n.pageSize():n.step()):n.decrementThumb(p,a.shiftKey?n.pageSize():n.step());break;case"Home":w(a);break;case"End":Pe(a);break;case"PageUp":D(a),n.incrementThumb(p,n.pageSize());break;case"PageDown":D(a),n.decrementThumb(p,n.pageSize());break}},r=$(()=>h()?E()?"bottom":"top":v()?"left":"right"),b=$(()=>h()?E()?"top":"bottom":v()?"right":"left"),L={dataset:M,state:n,thumbs:s,setThumbs:u,onSlideStart:A,onSlideMove:k,onSlideEnd:O,onStepKeyDown:Te,isSlidingFromLeft:v,isSlidingFromBottom:E,trackRef:i,minValue:()=>o.minValue,maxValue:()=>o.maxValue,inverted:()=>o.inverted,startEdge:r,endEdge:b,registerTrack:a=>x(a),generateId:ct(()=>ke(m.id)),getValueLabel:o.getValueLabel};return<T><Ce.Provider value={d}><Y.Provider value={L}><C as="div"ref={St(a=>t=a,o.ref)}role="group"id={ke(m.id)}{...M()}{...P}/></Y.Provider></Ce.Provider></T>}import{callHandler as Z,mergeRefs as Tt}from"@kobalte/utils";import{createSignal as gt,splitProps as ht}from"solid-js";function Se(l){let t=y(),[e,S]=ht(l,["onPointerDown","onPointerMove","onPointerUp"]),[o,m]=gt();function P(s){let u=o()||t.trackRef().getBoundingClientRect(),T=[0,t.state.orientation()==="vertical"?u.height:u.width],f=t.isSlidingFromLeft()?[t.minValue(),t.maxValue()]:[t.maxValue(),t.minValue()];t.state.orientation()==="vertical"&&(f=t.isSlidingFromBottom()?[t.maxValue(),t.minValue()]:[t.minValue(),t.maxValue()]);let v=He(T,f);return m(u),v(s-(t.state.orientation()==="vertical"?u.top:u.left))}let d=0,c=s=>{Z(s,e.onPointerDown),s.target.setPointerCapture(s.pointerId),s.preventDefault();let T=P(t.state.orientation()==="horizontal"?s.clientX:s.clientY);d=t.state.orientation()==="horizontal"?s.clientX:s.clientY;let f=Fe(t.state.values(),T);t.onSlideStart?.(f,T)},g=s=>{Z(s,e.onPointerMove),s.target.hasPointerCapture(s.pointerId)&&(t.onSlideMove?.({deltaX:s.clientX-d,deltaY:s.clientY-d}),d=t.state.orientation()==="horizontal"?s.clientX:s.clientY)},n=s=>{Z(s,e.onPointerUp);let u=s.target;u.hasPointerCapture(s.pointerId)&&(u.releasePointerCapture(s.pointerId),m(void 0),t.onSlideEnd?.())};return<C as="div"ref={Tt(t.registerTrack,l.ref)}onPointerDown={c}onPointerMove={g}onPointerUp={n}{...t.dataset()}{...S}/>}function fe(l){let t=y();return<C as="div"{...t.dataset()}{...l}>{t.getValueLabel?.({values:t.state.values(),max:t.maxValue(),min:t.minValue()})}</C>}var yt=Object.assign(Q,{Description:B,ErrorMessage:J,Fill:N,Input:G,Label:K,Thumb:_,Track:Se,ValueLabel:fe});export{y as a,N as b,_ as c,G as d,Q as e,Se as f,fe as g,yt as h,Vt as i};
