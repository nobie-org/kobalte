import{a as I}from"./HAEWETXL.jsx";import{a as R}from"./XWCF3RNR.jsx";var D={};R(D,{Fallback:()=>P,Image:()=>H,Img:()=>u,Root:()=>f,useImageContext:()=>c});import{Show as T,createEffect as S,createSignal as k,onCleanup as h}from"solid-js";import{createContext as b,useContext as L}from"solid-js";var d=b();function c(){let o=L(d);if(o===void 0)throw new Error("[kobalte]: `useImageContext` must be used within an `Image.Root` component");return o}function P(o){let t=c(),[m,a]=k(t.fallbackDelay()===void 0);return S(()=>{let e=t.fallbackDelay();if(e!==void 0){let n=window.setTimeout(()=>a(!0),e);h(()=>window.clearTimeout(n))}}),<T when={m()&&t.imageLoadingStatus()!=="loaded"}><I as="span"{...o}/></T>}import{Show as E,createEffect as y,createSignal as F,on as O,onCleanup as w}from"solid-js";function u(o){let t=c(),[m,a]=F("idle");return y(O(()=>o.src,e=>{if(!e){a("error");return}let n=!0,r=new window.Image,x=C=>()=>{n&&a(C)};a("loading"),r.onload=x("loaded"),r.onerror=x("error"),r.src=e,w(()=>{n=!1})})),y(()=>{let e=m();e!=="idle"&&t.onImageLoadingStatusChange(e)}),<E when={m()==="loaded"}><I as="img"{...o}/></E>}import{createSignal as M,splitProps as V}from"solid-js";function f(o){let[t,m]=V(o,["fallbackDelay","onLoadingStatusChange"]),[a,e]=M("idle"),n={fallbackDelay:()=>t.fallbackDelay,imageLoadingStatus:a,onImageLoadingStatusChange:r=>{e(r),t.onLoadingStatusChange?.(r)}};return<d.Provider value={n}><I as="span"{...m}/></d.Provider>}var H=Object.assign(f,{Fallback:P,Img:u});export{c as a,P as b,u as c,f as d,H as e,D as f};
