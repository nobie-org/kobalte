import { a as a$4 } from './W2SEDEGF.js';
import { a as a$3, b } from './UQYWIS72.js';
import { a as a$2 } from './PXHAVOZL.js';
import { a as a$8 } from './3USQYRTZ.js';
import { a as a$1 } from './DBH56JRW.js';
import { e, d, a as a$6, b as b$1, c as c$1 } from './63IHFG6C.js';
import { g } from './UAI26547.js';
import { a as a$7 } from './BRRMFPGI.js';
import { a as a$9 } from './STCLCRSQ.js';
import { a as a$5 } from './2B777EKY.js';
import { a } from './JSKF3YHK.js';
import { createComponent, mergeProps, template, use, spread, memo, effect, style } from 'solid-js/web';
import { callHandler, mergeRefs, visuallyHiddenStyles, mergeDefaultProps, composeEventHandlers, createGenerateId, access, snapValueToStep, getPrecision } from '@kobalte/utils';
import { createContext, useContext, splitProps, batch, createUniqueId, createMemo, createSignal, createEffect, on } from 'solid-js';
import { NumberParser, NumberFormatter } from '@internationalized/number';

var Je={};a(Je,{DecrementTrigger:()=>$,Description:()=>e,ErrorMessage:()=>a$1,HiddenInput:()=>T,IncrementTrigger:()=>v,Input:()=>S,Label:()=>a$2,NumberField:()=>Ye,Root:()=>M,useNumberFieldContext:()=>c});var O=createContext();function c(){let i=useContext(O);if(i===void 0)throw new Error("[kobalte]: `useNumberFieldContext` must be used within a `NumberField` component");return i}function F(i){let o=d(),e=c(),[m,t]=splitProps(i,["numberFieldVaryType","onClick"]);return createComponent(a$9,mergeProps({tabIndex:-1,get disabled(){return o.isDisabled()||e.rawValue()===(m.numberFieldVaryType==="increment"?e.maxValue():e.minValue())},get"aria-controls"(){return o.fieldId()},onClick:u=>{callHandler(u,m.onClick),e.varyValue(e.step()*(m.numberFieldVaryType==="increment"?1:-1)),e.inputRef()?.focus();}},t))}function $(i){return createComponent(F,mergeProps({numberFieldVaryType:"decrement"},i))}var Ie=template('<div aria-hidden="true"><input type="text" tabindex="-1">');function T(i){let o=c(),[e,m]=splitProps(i,["ref","onChange"]),t=d();return (()=>{let u=Ie(),f=u.firstChild;f.addEventListener("change",a=>{callHandler(a,e.onChange),batch(()=>{o.setValue(a.target.value),o.format();});});let s=mergeRefs(o.setHiddenInputRef,e.ref);return typeof s=="function"&&use(s,f),f.style.setProperty("font-size","16px"),spread(f,mergeProps({get name(){return t.name()},get value(){return memo(()=>!!Number.isNaN(o.rawValue()))()?"":o.rawValue()},get required(){return t.isRequired()},get disabled(){return t.isDisabled()},get readOnly(){return t.isReadOnly()}},m),!1,!1),effect(a=>style(u,visuallyHiddenStyles,a)),u})()}function v(i){return createComponent(F,mergeProps({numberFieldVaryType:"increment"},i))}function S(i){let o=d(),e=c(),m=mergeDefaultProps({id:e.generateId("input"),inputMode:"decimal",autocomplete:"off",autocorrect:"off",spellcheck:!1},i),[t,u,f]=splitProps(m,["ref","onInput","onChange","onWheel","as"],a$3),{fieldProps:s}=b(u);return createComponent(a$4,mergeProps({type:"text",get id(){return s.id()},ref(a){let V=mergeRefs(e.setInputRef,t.ref);typeof V=="function"&&V(a);},get value(){return e.value()},get validationState(){return o.validationState()},get required(){return o.isRequired()},get disabled(){return o.isDisabled()},get readOnly(){return o.isReadOnly()},get textValue(){return e.textValue()},get minValue(){return e.minValue()},get maxValue(){return e.maxValue()},onIncrement:()=>{e.varyValue(e.step());},onIncrementPage:()=>{e.varyValue(e.largeStep());},onIncrementToMax:()=>{e.setValue(e.maxValue()),e.format();},onDecrement:()=>{e.varyValue(-e.step());},onDecrementPage:()=>{e.varyValue(-e.largeStep());},onDecrementToMin:()=>{e.setValue(e.minValue()),e.format();},get translations(){return e.translations()},onChange:a=>{callHandler(a,t.onChange),e.format();},onWheel:a=>{callHandler(a,t.onWheel),!(!e.changeOnWheel()||document.activeElement!==e.inputRef())&&(a.preventDefault(),a.deltaY<0?e.varyValue(e.step()):e.varyValue(-e.step()));},get onInput(){return composeEventHandlers([t.onInput,e.onInput])},get"aria-label"(){return s.ariaLabel()},get"aria-labelledby"(){return s.ariaLabelledBy()},get"aria-describedby"(){return s.ariaDescribedBy()}},()=>o.dataset(),{as:a=>createComponent(a$5,mergeProps({get as(){return t.as||"input"},get value(){return memo(()=>!!(Number.isNaN(e.rawValue())||e.value()===void 0))()?"":e.formatNumber(e.rawValue())},get required(){return o.isRequired()},get disabled(){return o.isDisabled()},get readOnly(){return o.isReadOnly()}},a,f))}))}function M(i){let o,e=`NumberField-${createUniqueId()}`,m=mergeDefaultProps({id:e,format:!0,minValue:Number.MIN_SAFE_INTEGER,maxValue:Number.MAX_SAFE_INTEGER,step:1,changeOnWheel:!0},i),[t,u,f]=splitProps(m,["ref","value","defaultValue","onChange","rawValue","onRawValueChange","translations","format","formatOptions","textValue","minValue","maxValue","step","largeStep","changeOnWheel","translations","allowedInput"],a$6),{locale:s}=g(),a=createMemo(()=>new NumberParser(s(),t.formatOptions)),V=createMemo(()=>new NumberFormatter(s(),t.formatOptions)),E=r=>t.format?V().format(r):r.toString(),h=r=>t.format&&typeof r!="number"?a().parse(r??""):Number(r??""),ne=r=>t.format&&typeof r!="number"?a().isValidPartialNumber(r??"",m.minValue,m.maxValue):!Number.isNaN(Number(r)),[d,N]=a$7({value:()=>t.value,defaultValue:()=>t.defaultValue??t.rawValue,onChange:r=>{t.onChange?.(typeof r=="number"?E(r):r),t.onRawValueChange?.(h(r));}});d()!==void 0&&t.onRawValueChange?.(h(d()));function ae(r){return t.allowedInput!==void 0?t.allowedInput.test(r):!0}let{formControlContext:C}=b$1(u);a$8(()=>o,()=>{N(t.defaultValue??"");});let[P,ie]=createSignal(),[x,me]=createSignal(),le=r=>{if(C.isReadOnly()||C.isDisabled())return;let n=r.target,p=n.selectionStart;ne(n.value)?(r.inputType!=="insertText"||ae(r.data||""))&&N(n.value):r.inputType==="deleteContentBackward"&&p!==null&&(p+=1);let g=d();g!==n.value&&(n.value=String(g??""),p!==null&&(n.selectionStart=p,n.selectionEnd=p));},l={value:d,setValue:N,rawValue:()=>h(d()),generateId:createGenerateId(()=>access(u.id)),formatNumber:E,format:()=>{if(!t.format)return;let r=l.rawValue();if(Number.isNaN(r)){x()&&(x().value=""),t.onRawValueChange?.(r);return}l.minValue()&&(r=Math.max(r,l.minValue())),l.maxValue()&&(r=Math.min(r,l.maxValue()));let n=l.formatNumber(r);d()!=n&&N(n),P()&&(P().value=n),x()&&(x().value=String(r));},onInput:le,textValue:()=>t.textValue,minValue:()=>t.minValue,maxValue:()=>t.maxValue,step:()=>t.step,largeStep:()=>t.largeStep??t.step*10,changeOnWheel:()=>t.changeOnWheel,translations:()=>t.translations,inputRef:P,setInputRef:ie,hiddenInputRef:x,setHiddenInputRef:me,varyValue:r=>{let n=l.rawValue()??0;Number.isNaN(n)&&(n=0),batch(()=>{let p=n,g=r>0?"+":"-",I=Math.abs(r),H=i.minValue===void 0?Number.NaN:l.minValue(),L=i.maxValue===void 0?Number.NaN:l.maxValue();p=snapValueToStep(n,H,L,I),g==="+"&&p>n||g==="-"&&p<n||(p=snapValueToStep(Xe(g,n,I),H,L,I)),l.setValue(p),l.format();});}};return createEffect(on(()=>t.rawValue,r=>{if(r!==l.rawValue()){if(Number.isNaN(r))return;batch(()=>{N(r??""),l.format();});}},{defer:!0})),createComponent(c$1.Provider,{value:C,get children(){return createComponent(O.Provider,{value:l,get children(){return createComponent(a$5,mergeProps({as:"div",ref(r){let n=mergeRefs(p=>o=p,t.ref);typeof n=="function"&&n(r);},role:"group",get id(){return access(u.id)}},()=>C.dataset(),f))}})}})}function Xe(i,o,e){let m=i==="+"?o+e:o-e;if(Number.isFinite(o)&&Number.isFinite(e)&&(e%1!==0||o%1!==0)){let t=getPrecision(e),u=getPrecision(o),f=10**Math.max(t,u),s=Math.round(e*f),a=Math.round(o*f);m=(i==="+"?a+s:a-s)/f;}return m}var Ye=Object.assign(M,{Description:e,ErrorMessage:a$1,HiddenInput:T,Input:S,IncrementTrigger:v,DecrementTrigger:$,Label:a$2});

export { c as a, $ as b, T as c, v as d, S as e, M as f, Ye as g, Je as h };
