import{c as T,f as P}from"./I2GXMTLG.jsx";import{a as X}from"./HRP3PVHU.jsx";import{a as J}from"./WXFHRPV5.jsx";import{a as M}from"./OYIYGTZT.jsx";import{a as z}from"./XWCF3RNR.jsx";var De={};z(De,{Arrow:()=>T,Content:()=>O,HoverCard:()=>we,Portal:()=>E,Root:()=>b,Trigger:()=>S,useHoverCardContext:()=>c});import{mergeRefs as Z}from"@kobalte/utils";import{Show as _,splitProps as ee}from"solid-js";import{combineStyle as oe}from"@solid-primitives/props";import{createContext as K,useContext as Q}from"solid-js";var x=K();function c(){let s=Q(x);if(s===void 0)throw new Error("[kobalte]: `useHoverCardContext` must be used within a `HoverCard` component");return s}function O(s){let r=c(),[p,a]=ee(s,["ref","style"]);return<_ when={r.contentPresent()}><P.Positioner><X ref={Z(t=>{r.setContentRef(t)},p.ref)}disableOutsidePointerEvents={!1}style={oe({"--kb-hovercard-content-transform-origin":"var(--kb-popper-content-transform-origin)",position:"relative"},p.style)}onFocusOutside={t=>t.preventDefault()}onDismiss={r.close}{...r.dataset()}{...a}/></P.Positioner></_>}import{Show as Ce}from"solid-js";import{Portal as Pe}from"solid-js/web";function E(s){let r=c();return<Ce when={r.contentPresent()}><Pe{...s}/></Ce>}import{contains as F,createGlobalListeners as He,getEventPoint as ge,isPointInPolygon as ye,mergeDefaultProps as he}from"@kobalte/utils";import{createEffect as Te,createMemo as xe,createSignal as R,createUniqueId as Oe,onCleanup as B,splitProps as Ee}from"solid-js";import{isServer as H}from"solid-js/web";import Re from"solid-presence";function V(s,r,p){let a=s.split("-")[0],t=r.getBoundingClientRect(),e=p.getBoundingClientRect(),o=[],i=t.left+t.width/2,n=t.top+t.height/2;switch(a){case"top":o.push([t.left,n]),o.push([e.left,e.bottom]),o.push([e.left,e.top]),o.push([e.right,e.top]),o.push([e.right,e.bottom]),o.push([t.right,n]);break;case"right":o.push([i,t.top]),o.push([e.left,e.top]),o.push([e.right,e.top]),o.push([e.right,e.bottom]),o.push([e.left,e.bottom]),o.push([i,t.bottom]);break;case"bottom":o.push([t.left,n]),o.push([e.left,e.top]),o.push([e.left,e.bottom]),o.push([e.right,e.bottom]),o.push([e.right,e.top]),o.push([t.right,n]);break;case"left":o.push([i,t.top]),o.push([e.right,e.top]),o.push([e.left,e.top]),o.push([e.left,e.bottom]),o.push([e.right,e.bottom]),o.push([i,t.bottom]);break}return o}function b(s){let r=`hovercard-${Oe()}`,p=he({id:r,openDelay:700,closeDelay:300},s),[a,t]=Ee(p,["id","open","defaultOpen","onOpenChange","openDelay","closeDelay","ignoreSafeArea","forceMount"]),e,o,[i,n]=R(),[m,U]=R(),[W,I]=R(t.placement),l=M({open:()=>a.open,defaultOpen:()=>a.defaultOpen,onOpenChange:d=>a.onOpenChange?.(d)}),{present:N}=Re({show:()=>a.forceMount||l.isOpen(),element:()=>m()??null}),{addGlobalListener:G,removeGlobalListener:j}=He(),q=()=>{H||(e=window.setTimeout(()=>{e=void 0,l.open()},a.openDelay))},L=()=>{H||(o=window.setTimeout(()=>{o=void 0,l.close()},a.closeDelay))},w=()=>{H||(window.clearTimeout(e),e=void 0)},f=()=>{H||(window.clearTimeout(o),o=void 0)},D=d=>F(i(),d)||F(m(),d),Y=d=>{let v=i(),C=m();if(!(!v||!C))return V(d,v,C)},A=d=>{let v=d.target;if(D(v)){f();return}if(!a.ignoreSafeArea){let C=Y(W());if(C&&ye(ge(d),C)){f();return}}o||L()};Te(()=>{l.isOpen()&&(G(document,"pointermove",A,!0),B(()=>{j(document,"pointermove",A,!0)}))}),B(()=>{w(),f()});let $={dataset:xe(()=>({"data-expanded":l.isOpen()?"":void 0,"data-closed":l.isOpen()?void 0:""})),isOpen:l.isOpen,contentPresent:N,openWithDelay:q,closeWithDelay:L,cancelOpening:w,cancelClosing:f,close:l.close,isTargetOnHoverCard:D,setTriggerRef:n,setContentRef:U};return<x.Provider value={$}><P anchorRef={i}contentRef={m}onCurrentPlacementChange={I}{...t}/></x.Provider>}import{callHandler as g,mergeRefs as be}from"@kobalte/utils";import{onCleanup as Se,splitProps as Le}from"solid-js";function S(s){let r=c(),[p,a]=Le(s,["ref","onPointerEnter","onPointerLeave","onFocus","onBlur"]),t=n=>{g(n,p.onPointerEnter),!(n.pointerType==="touch"||a.disabled||n.defaultPrevented)&&(r.cancelClosing(),r.isOpen()||r.openWithDelay())},e=n=>{g(n,p.onPointerLeave),n.pointerType!=="touch"&&r.cancelOpening()},o=n=>{g(n,p.onFocus),!(a.disabled||n.defaultPrevented)&&(r.cancelClosing(),r.isOpen()||r.openWithDelay())},i=n=>{g(n,p.onBlur),r.cancelOpening();let m=n.relatedTarget;r.isTargetOnHoverCard(m)||r.closeWithDelay()};return Se(r.cancelOpening),<J ref={be(r.setTriggerRef,p.ref)}onPointerEnter={t}onPointerLeave={e}onFocus={o}onBlur={i}{...r.dataset()}{...a}/>}var we=Object.assign(b,{Arrow:T,Content:O,Portal:E,Trigger:S});export{c as a,O as b,E as c,b as d,S as e,we as f,De as g};
