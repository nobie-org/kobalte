import{d as s}from"./HIUHMFLS.jsx";import{b as a}from"./M3KDFM4U.jsx";import{callHandler as x,mergeRefs as E,visuallyHiddenStyles as w}from"@kobalte/utils";import{For as S,Show as C,createEffect as H,createSignal as z,on as F,splitProps as I}from"solid-js";function K(M){let i,[e,v]=I(M,["ref","onChange","collection","selectionManager","isOpen","isMultiple","isVirtualized","focusTrigger"]),n=s(),[y,l]=z(!1),r=t=>{let o=e.collection.getItem(t);return<C when={o?.type==="item"}><option value={t}selected={e.selectionManager.isSelected(t)}>{o?.textValue}</option></C>};return H(F(()=>e.selectionManager.selectedKeys(),(t,o)=>{o&&a(t,o)||(l(!0),i?.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0})),i?.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0})))},{defer:!0})),<div style={w}aria-hidden="true"><input type="text"tabIndex={e.selectionManager.isFocused()||e.isOpen?-1:0}style={{"font-size":"16px"}}required={n.isRequired()}disabled={n.isDisabled()}readOnly={n.isReadOnly()}onFocus={()=>e.focusTrigger()}/><select ref={E(t=>i=t,e.ref)}tabIndex={-1}multiple={e.isMultiple}name={n.name()}required={n.isRequired()}disabled={n.isDisabled()}size={e.collection.getSize()}value={e.selectionManager.firstSelectedKey()??""}onChange={t=>{x(t,e.onChange),y()||e.selectionManager.setSelectedKeys(new Set([t.target.value])),l(!1)}}{...v}><option/><C when={e.isVirtualized}fallback={<S each={[...e.collection.getKeys()]}>{r}</S>}><S each={[...e.selectionManager.selectedKeys()]}>{r}</S></C></select></div>}export{K as a};
