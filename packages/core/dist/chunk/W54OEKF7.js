import { a as a$3 } from './ZMT4QDL4.js';
import { a as a$2 } from './VRFMVH72.js';
import { a as a$4 } from './FNVJ2A2S.js';
import { a as a$6 } from './B6YIKRNF.js';
import { a as a$7 } from './3LFQJS72.js';
import { a as a$1 } from './STCLCRSQ.js';
import { a as a$5 } from './2B777EKY.js';
import { a } from './JSKF3YHK.js';
import { createComponent, mergeProps, memo, Portal } from 'solid-js/web';
import { callHandler, mergeDefaultProps, mergeRefs, createGenerateId, contains, focusWithoutScrolling } from '@kobalte/utils';
import { createContext, useContext, splitProps, createEffect, onCleanup, Show, createUniqueId, createSignal } from 'solid-js';
import me from 'solid-prevent-scroll';
import { combineStyle } from '@solid-primitives/props';
import M from 'solid-presence';

var He={};a(He,{CloseButton:()=>h,Content:()=>v,Description:()=>_,Dialog:()=>Ge,Overlay:()=>y,Portal:()=>R,Root:()=>T,Title:()=>w,Trigger:()=>S,useDialogContext:()=>s});var I=createContext();function s(){let r=useContext(I);if(r===void 0)throw new Error("[kobalte]: `useDialogContext` must be used within a `Dialog` component");return r}function h(r){let t=s(),[e,a]=splitProps(r,["aria-label","onClick"]);return createComponent(a$1,mergeProps({get"aria-label"(){return e["aria-label"]||t.translations().dismiss},onClick:n=>{callHandler(n,e.onClick),t.close();}},a))}function v(r){let t,e=s(),a=mergeDefaultProps({id:e.generateId("content")},r),[i,n]=splitProps(a,["ref","onOpenAutoFocus","onCloseAutoFocus","onPointerDownOutside","onFocusOutside","onInteractOutside"]),m=!1,c=!1,O=o=>{i.onPointerDownOutside?.(o),e.modal()&&o.detail.isContextMenu&&o.preventDefault();},f=o=>{i.onFocusOutside?.(o),e.modal()&&o.preventDefault();},x=o=>{i.onInteractOutside?.(o),!e.modal()&&(o.defaultPrevented||(m=!0,o.detail.originalEvent.type==="pointerdown"&&(c=!0)),contains(e.triggerRef(),o.target)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&c&&o.preventDefault());},u=o=>{i.onCloseAutoFocus?.(o),e.modal()?(o.preventDefault(),focusWithoutScrolling(e.triggerRef())):(o.defaultPrevented||(m||focusWithoutScrolling(e.triggerRef()),o.preventDefault()),m=!1,c=!1);};return a$2({isDisabled:()=>!(e.isOpen()&&e.modal()),targets:()=>t?[t]:[]}),me({element:()=>t??null,enabled:()=>e.contentPresent()&&e.preventScroll()}),a$3({trapFocus:()=>e.isOpen()&&e.modal(),onMountAutoFocus:i.onOpenAutoFocus,onUnmountAutoFocus:u},()=>t),createEffect(()=>onCleanup(e.registerContentId(n.id))),createComponent(Show,{get when(){return e.contentPresent()},get children(){return createComponent(a$4,mergeProps({ref(o){let d=mergeRefs(g=>{e.setContentRef(g),t=g;},i.ref);typeof d=="function"&&d(o);},role:"dialog",tabIndex:-1,get disableOutsidePointerEvents(){return memo(()=>!!e.modal())()&&e.isOpen()},get excludedElements(){return [e.triggerRef]},get"aria-labelledby"(){return e.titleId()},get"aria-describedby"(){return e.descriptionId()},get"data-expanded"(){return e.isOpen()?"":void 0},get"data-closed"(){return e.isOpen()?void 0:""},onPointerDownOutside:O,onFocusOutside:f,onInteractOutside:x,get onDismiss(){return e.close}},n))}})}function _(r){let t=s(),e=mergeDefaultProps({id:t.generateId("description")},r),[a,i]=splitProps(e,["id"]);return createEffect(()=>onCleanup(t.registerDescriptionId(a.id))),createComponent(a$5,mergeProps({as:"p",get id(){return a.id}},i))}function y(r){let t=s(),[e,a]=splitProps(r,["ref","style","onPointerDown"]),i=n=>{callHandler(n,e.onPointerDown),n.target===n.currentTarget&&n.preventDefault();};return createComponent(Show,{get when(){return t.overlayPresent()},get children(){return createComponent(a$5,mergeProps({as:"div",ref(n){let m=mergeRefs(t.setOverlayRef,e.ref);typeof m=="function"&&m(n);},get style(){return combineStyle({"pointer-events":"auto"},e.style)},get"data-expanded"(){return t.isOpen()?"":void 0},get"data-closed"(){return t.isOpen()?void 0:""},onPointerDown:i},a))}})}function R(r){let t=s();return createComponent(Show,{get when(){return t.contentPresent()||t.overlayPresent()},get children(){return createComponent(Portal,r)}})}var $={dismiss:"Dismiss"};function T(r){let t=`dialog-${createUniqueId()}`,e=mergeDefaultProps({id:t,modal:!0,translations:$},r),[a,i]=createSignal(),[n,m]=createSignal(),[c,O]=createSignal(),[f,x]=createSignal(),[u,o]=createSignal(),[d,g]=createSignal(),D=a$6({open:()=>e.open,defaultOpen:()=>e.defaultOpen,onOpenChange:q=>e.onOpenChange?.(q)}),b=()=>e.forceMount||D.isOpen(),{present:U}=M({show:b,element:()=>f()??null}),{present:j}=M({show:b,element:()=>u()??null}),A={translations:()=>e.translations??$,isOpen:D.isOpen,modal:()=>e.modal??!0,preventScroll:()=>e.preventScroll??A.modal(),contentId:a,titleId:n,descriptionId:c,triggerRef:d,overlayRef:f,setOverlayRef:x,contentRef:u,setContentRef:o,overlayPresent:U,contentPresent:j,close:D.close,toggle:D.toggle,setTriggerRef:g,generateId:createGenerateId(()=>e.id),registerContentId:a$7(i),registerTitleId:a$7(m),registerDescriptionId:a$7(O)};return createComponent(I.Provider,{value:A,get children(){return e.children}})}function w(r){let t=s(),e=mergeDefaultProps({id:t.generateId("title")},r),[a,i]=splitProps(e,["id"]);return createEffect(()=>onCleanup(t.registerTitleId(a.id))),createComponent(a$5,mergeProps({as:"h2",get id(){return a.id}},i))}function S(r){let t=s(),[e,a]=splitProps(r,["ref","onClick"]);return createComponent(a$1,mergeProps({ref(n){let m=mergeRefs(t.setTriggerRef,e.ref);typeof m=="function"&&m(n);},"aria-haspopup":"dialog",get"aria-expanded"(){return t.isOpen()},get"aria-controls"(){return memo(()=>!!t.isOpen())()?t.contentId():void 0},get"data-expanded"(){return t.isOpen()?"":void 0},get"data-closed"(){return t.isOpen()?void 0:""},onClick:n=>{callHandler(n,e.onClick),t.toggle();}},a))}var Ge=Object.assign(T,{CloseButton:h,Content:v,Description:_,Overlay:y,Portal:R,Title:w,Trigger:S});

export { s as a, h as b, v as c, _ as d, y as e, R as f, T as g, w as h, S as i, Ge as j, He as k };
