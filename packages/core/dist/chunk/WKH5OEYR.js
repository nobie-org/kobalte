import { c, f } from './U4KVQHPL.js';
import { a as a$4 } from './ZMT4QDL4.js';
import { a as a$3 } from './VRFMVH72.js';
import { a as a$5 } from './FNVJ2A2S.js';
import { a as a$6 } from './B6YIKRNF.js';
import { a as a$7 } from './3LFQJS72.js';
import { a as a$2 } from './STCLCRSQ.js';
import { a as a$1 } from './2B777EKY.js';
import { a } from './JSKF3YHK.js';
import { createComponent, mergeProps, memo, Portal } from 'solid-js/web';
import { mergeRefs, callHandler, mergeDefaultProps, createGenerateId, focusWithoutScrolling, contains } from '@kobalte/utils';
import { createContext, useContext, splitProps, createEffect, onCleanup, Show, createUniqueId, createSignal, createMemo } from 'solid-js';
import { combineStyle } from '@solid-primitives/props';
import Ce from 'solid-prevent-scroll';
import ye from 'solid-presence';

var Ge={};a(Ge,{Anchor:()=>_,Arrow:()=>c,CloseButton:()=>$,Content:()=>w,Description:()=>A,Popover:()=>qe,Portal:()=>S,Root:()=>y,Title:()=>k,Trigger:()=>M,usePopoverContext:()=>i});var D=createContext();function i(){let n=useContext(D);if(n===void 0)throw new Error("[kobalte]: `usePopoverContext` must be used within a `Popover` component");return n}function _(n){let o=i(),[e,t]=splitProps(n,["ref"]);return createComponent(a$1,mergeProps({as:"div",ref(s){let a=mergeRefs(o.setDefaultAnchorRef,e.ref);typeof a=="function"&&a(s);}},()=>o.dataset(),t))}function $(n){let o=i(),[e,t]=splitProps(n,["aria-label","onClick"]);return createComponent(a$2,mergeProps({get"aria-label"(){return e["aria-label"]||o.translations().dismiss},onClick:a=>{callHandler(a,e.onClick),o.close();}},()=>o.dataset(),t))}function w(n){let o,e=i(),t=mergeDefaultProps({id:e.generateId("content")},n),[s,a]=splitProps(t,["ref","style","onOpenAutoFocus","onCloseAutoFocus","onPointerDownOutside","onFocusOutside","onInteractOutside"]),p=!1,m=!1,u=!1,d=r=>{s.onCloseAutoFocus?.(r),e.isModal()?(r.preventDefault(),p||focusWithoutScrolling(e.triggerRef())):(r.defaultPrevented||(m||focusWithoutScrolling(e.triggerRef()),r.preventDefault()),m=!1,u=!1);},x=r=>{s.onPointerDownOutside?.(r),e.isModal()&&(p=r.detail.isContextMenu);},h=r=>{s.onFocusOutside?.(r),e.isOpen()&&e.isModal()&&r.preventDefault();},I=r=>{s.onInteractOutside?.(r),!e.isModal()&&(r.defaultPrevented||(m=!0,r.detail.originalEvent.type==="pointerdown"&&(u=!0)),contains(e.triggerRef(),r.target)&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&u&&r.preventDefault());};return a$3({isDisabled:()=>!(e.isOpen()&&e.isModal()),targets:()=>o?[o]:[]}),Ce({element:()=>o??null,enabled:()=>e.contentPresent()&&e.preventScroll()}),a$4({trapFocus:()=>e.isOpen()&&e.isModal(),onMountAutoFocus:s.onOpenAutoFocus,onUnmountAutoFocus:d},()=>o),createEffect(()=>onCleanup(e.registerContentId(a.id))),createComponent(Show,{get when(){return e.contentPresent()},get children(){return createComponent(f.Positioner,{get children(){return createComponent(a$5,mergeProps({ref(r){let P=mergeRefs(g=>{e.setContentRef(g),o=g;},s.ref);typeof P=="function"&&P(r);},role:"dialog",tabIndex:-1,get disableOutsidePointerEvents(){return memo(()=>!!e.isOpen())()&&e.isModal()},get excludedElements(){return [e.triggerRef]},get style(){return combineStyle({"--kb-popover-content-transform-origin":"var(--kb-popper-content-transform-origin)",position:"relative"},s.style)},get"aria-labelledby"(){return e.titleId()},get"aria-describedby"(){return e.descriptionId()},onPointerDownOutside:x,onFocusOutside:h,onInteractOutside:I,get onDismiss(){return e.close}},()=>e.dataset(),a))}})}})}function A(n){let o=i(),e=mergeDefaultProps({id:o.generateId("description")},n),[t,s]=splitProps(e,["id"]);return createEffect(()=>onCleanup(o.registerDescriptionId(t.id))),createComponent(a$1,mergeProps({as:"p",get id(){return t.id}},()=>o.dataset(),s))}function S(n){let o=i();return createComponent(Show,{get when(){return o.contentPresent()},get children(){return createComponent(Portal,n)}})}var b={dismiss:"Dismiss"};function y(n){let o=`popover-${createUniqueId()}`,e=mergeDefaultProps({id:o,modal:!1,translations:b},n),[t,s]=splitProps(e,["translations","id","open","defaultOpen","onOpenChange","modal","preventScroll","forceMount","anchorRef"]),[a,p]=createSignal(),[m,u]=createSignal(),[d,x]=createSignal(),[h,I]=createSignal(),[r,P]=createSignal(),[g,q]=createSignal(),c=a$6({open:()=>t.open,defaultOpen:()=>t.defaultOpen,onOpenChange:J=>t.onOpenChange?.(J)}),G=()=>t.anchorRef?.()??a()??m(),{present:W}=ye({show:()=>t.forceMount||c.isOpen(),element:()=>d()??null}),z=createMemo(()=>({"data-expanded":c.isOpen()?"":void 0,"data-closed":c.isOpen()?void 0:""})),F={translations:()=>t.translations??b,dataset:z,isOpen:c.isOpen,isModal:()=>t.modal??!1,preventScroll:()=>t.preventScroll??F.isModal(),contentPresent:W,triggerRef:m,contentId:h,titleId:r,descriptionId:g,setDefaultAnchorRef:p,setTriggerRef:u,setContentRef:x,close:c.close,toggle:c.toggle,generateId:createGenerateId(()=>t.id),registerContentId:a$7(I),registerTitleId:a$7(P),registerDescriptionId:a$7(q)};return createComponent(D.Provider,{value:F,get children(){return createComponent(f,mergeProps({anchorRef:G,contentRef:d},s))}})}function k(n){let o=i(),e=mergeDefaultProps({id:o.generateId("title")},n),[t,s]=splitProps(e,["id"]);return createEffect(()=>onCleanup(o.registerTitleId(t.id))),createComponent(a$1,mergeProps({as:"h2",get id(){return t.id}},()=>o.dataset(),s))}function M(n){let o=i(),[e,t]=splitProps(n,["ref","onClick","onPointerDown"]);return createComponent(a$2,mergeProps({ref(p){let m=mergeRefs(o.setTriggerRef,e.ref);typeof m=="function"&&m(p);},"aria-haspopup":"dialog",get"aria-expanded"(){return o.isOpen()},get"aria-controls"(){return memo(()=>!!o.isOpen())()?o.contentId():void 0},onPointerDown:p=>{callHandler(p,e.onPointerDown),p.preventDefault();},onClick:p=>{callHandler(p,e.onClick),o.toggle();}},()=>o.dataset(),t))}var qe=Object.assign(y,{Anchor:_,Arrow:c,CloseButton:$,Content:w,Description:A,Portal:S,Title:k,Trigger:M});

export { i as a, _ as b, $ as c, w as d, A as e, S as f, y as g, k as h, M as i, qe as j, Ge as k };
