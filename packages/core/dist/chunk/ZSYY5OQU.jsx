import{createMemo as S}from"solid-js";import{createContext as M,useContext as O}from"solid-js";import{createMemo as A,createSignal as v,onCleanup as z,onMount as N}from"solid-js";import{isServer as w}from"solid-js/web";var F=new Set(["Avst","Arab","Armi","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),D=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function I(e){if(Intl.Locale){let r=new Intl.Locale(e).maximize().script??"";return F.has(r)}let t=e.split("-")[0];return D.has(t)}function f(e){return I(e)?"rtl":"ltr"}function h(){let e=typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch{e="en-US"}return{locale:e,direction:f(e)}}var p=h(),m=new Set;function L(){p=h();for(let e of m)e(p)}function g(){let e={locale:"en-US",direction:"ltr"},[t,r]=v(p),o=A(()=>w?e:t());return N(()=>{m.size===0&&window.addEventListener("languagechange",L),m.add(r),z(()=>{m.delete(r),m.size===0&&window.removeEventListener("languagechange",L)})}),{locale:()=>o().locale,direction:()=>o().direction}}var C=M();function H(e){let t=g(),r={locale:()=>e.locale??t.locale(),direction:()=>e.locale?f(e.locale):t.direction()};return<C.Provider value={r}>{e.children}</C.Provider>}function l(){let e=g();return O(C)||e}var d=new Map;function b(e){let{locale:t}=l(),r=S(()=>t()+(e?Object.entries(e).sort((o,c)=>o[0]<c[0]?-1:1).join():""));return S(()=>{let o=r(),c;return d.has(o)&&(c=d.get(o)),c||(c=new Intl.Collator(t(),e),d.set(o,c)),c})}import{DateFormatter as R}from"@internationalized/date";import{access as P}from"@kobalte/utils";import{createMemo as T}from"solid-js";function re(e){let{locale:t}=l();return T(()=>new R(t(),P(e)))}function ce(e){let t=b({usage:"search",...e});return{startsWith:(s,n)=>{if(n.length===0)return!0;let a=s.normalize("NFC"),i=n.normalize("NFC");return t().compare(a.slice(0,i.length),i)===0},endsWith:(s,n)=>{if(n.length===0)return!0;let a=s.normalize("NFC"),i=n.normalize("NFC");return t().compare(a.slice(-i.length),i)===0},contains:(s,n)=>{if(n.length===0)return!0;let a=s.normalize("NFC"),i=n.normalize("NFC"),u=0,x=n.length;for(;u+x<=a.length;u++){let y=a.slice(u,u+x);if(t().compare(i,y)===0)return!0}return!1}}}import{NumberFormatter as W}from"@internationalized/number";import{access as k}from"@kobalte/utils";import{createMemo as E}from"solid-js";function ue(e){let{locale:t}=l();return E(()=>new W(t(),k(e)))}export{D as a,I as b,f as c,h as d,g as e,H as f,l as g,b as h,re as i,ce as j,ue as k};
