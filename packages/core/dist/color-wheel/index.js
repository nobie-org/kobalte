import { a as a$5 } from '../chunk/WATGFVMZ.js';
import { a as a$3, b as b$2 } from '../chunk/Q73XX7CS.js';
import { a as a$2, b } from '../chunk/UQYWIS72.js';
import { a as a$1 } from '../chunk/PXHAVOZL.js';
export { a as Label } from '../chunk/PXHAVOZL.js';
import { a as a$6 } from '../chunk/3USQYRTZ.js';
import { a } from '../chunk/DBH56JRW.js';
export { a as ErrorMessage } from '../chunk/DBH56JRW.js';
import { e, d, a as a$4, b as b$1, c } from '../chunk/63IHFG6C.js';
export { e as Description } from '../chunk/63IHFG6C.js';
import { g } from '../chunk/UAI26547.js';
import { a as a$8 } from '../chunk/BRRMFPGI.js';
import { a as a$7 } from '../chunk/2B777EKY.js';
import { template, spread, mergeProps, createComponent } from 'solid-js/web';
import { mergeDefaultProps, visuallyHiddenStyles, createGenerateId, access, mergeRefs, callHandler } from '@kobalte/utils';
import { createContext, useContext, splitProps, createSignal, createUniqueId, createMemo } from 'solid-js';
import { combineStyle } from '@solid-primitives/props';

var M=createContext();function y(){let a=useContext(M);if(a===void 0)throw new Error("[kobalte]: `useColorWheelContext` must be used within a `ColorWheel` component");return a}var he=template('<input type="range">');function J(a){let e=d(),s=y(),p=mergeDefaultProps({id:s.generateId("input")},a),[u,l,f]=splitProps(p,["style","onChange"],a$2),{fieldProps:c}=b(l),g=h=>{callHandler(h,u.onChange);let b=h.target;s.state.setHue(Number.parseFloat(b.value)),b.value=String(s.state.hue())??"";};return (()=>{let h=he();return h.addEventListener("change",g),spread(h,mergeProps({get id(){return c.id()},get name(){return e.name()},get tabIndex(){return s.state.isDisabled()?void 0:-1},get min(){return s.state.minValue()},get max(){return s.state.maxValue()},get step(){return s.state.step()},get value(){return s.state.hue()},get required(){return e.isRequired()},get disabled(){return e.isDisabled()},get readonly(){return e.isReadOnly()},get style(){return combineStyle({...visuallyHiddenStyles},u.style)},get"aria-valuetext"(){return s.getThumbValueLabel()},get"aria-label"(){return c.ariaLabel()},get"aria-labelledby"(){return c.ariaLabelledBy()},get"aria-describedby"(){return c.ariaDescribedBy()},get"aria-invalid"(){return e.validationState()==="invalid"||void 0},get"aria-required"(){return e.isRequired()||void 0},get"aria-disabled"(){return e.isDisabled()||void 0},get"aria-readonly"(){return e.isReadOnly()||void 0}},()=>e.dataset(),f),!1,!1),h})()}function _(a,e){return Math.round(a/e)*e}function k(a,e){return (a%e+e)%e}function Q(a){let e=Math.floor(a);return e===a?a-1:e}function De(a){return a*Math.PI/180}function Se(a){return a*180/Math.PI}function Z(a,e){let s=De(360-a+90),p=Math.sin(s)*e,u=Math.cos(s)*e;return {x:p,y:u}}function ee(a,e,s){return (Se(Math.atan2(e/s,a/s))+360)%360}function oe(a){let e=mergeDefaultProps({isDisabled:()=>!1},a),s=createMemo(()=>e.defaultValue()??b$2("hsl(0, 100%, 50%)")),[p,u]=a$8({value:e.value,defaultValue:s,onChange:d=>e.onChange?.(d)}),l=createMemo(()=>{let d=p().getColorSpace();return d==="hsl"||d==="hsb"?p():p().toFormat("hsl")}),f=()=>l().getChannelRange("hue"),c=()=>f().step,g=()=>f().pageSize,h=()=>f().maxValue,b=()=>f().minValue,[x,C]=createSignal(!1),n=()=>{u(s());},i=()=>l().getChannelValue("hue"),P=d=>{let m=d>360?0:d;m=_(k(m,360),c()),i()!==m&&u(l().withChannelValue("hue",m));};return {value:l,setValue:u,hue:i,setHue:P,step:c,pageSize:g,maxValue:h,minValue:b,increment:(d=1)=>{let m=Math.max(d,c()),w=i()+m;w>=h()&&(w=b()),P(_(k(w,360),m));},decrement:(d=1)=>{let m=Math.max(d,c());i()===0?P(Q(360/m)*m):P(_(k(i()-m,360),m));},getThumbPosition:()=>Z(i(),e.thumbRadius()),setThumbValue:(d,m,w)=>{e.isDisabled()||P(ee(d,m,w));},isDragging:x,setIsDragging:d=>{if(e.isDisabled())return;let m=x();C(d),m&&!x()&&e.onChangeEnd?.(l());},resetValue:n,isDisabled:e.isDisabled}}function ne(a){let[e,s]=createSignal(),p=`colorwheel-${createUniqueId()}`,u=mergeDefaultProps({id:p,getValueLabel:o=>o.formatChannelValue("hue"),translations:a$3,disabled:!1,thickness:30},a),[l,f,c$1]=splitProps(u,["ref","value","defaultValue","thickness","onChange","onChangeEnd","getValueLabel","translations","disabled"],a$4),{formControlContext:g$1}=b$1(f),{direction:h}=g(),[b,x]=createSignal(),[C,n]=createSignal(),i=a$5(b),P=createMemo(()=>{if(i.width()!==0)return i.width()/2}),r=()=>(139.75-l.thickness/100*70)*P()/140,t=oe({value:()=>l.value,defaultValue:()=>l.defaultValue,thumbRadius:r,onChange:l.onChange,onChangeEnd:l.onChangeEnd,isDisabled:()=>g$1.isDisabled()??!1});a$6(e,()=>t.resetValue());let V=()=>h()==="ltr",D=null,W=o=>{t.setIsDragging(!0),t.setThumbValue(o[0],o[1],Math.sqrt(o[0]*o[0]+o[1]*o[1])),D=null;},d=({deltaX:o,deltaY:T})=>{D===null&&(D=t.getThumbPosition()),D.x+=o,D.y+=T,t.setThumbValue(D.x,D.y,r()),l.onChange?.(t.value());},m=()=>{t.setIsDragging(!1),C()?.focus();},w=()=>`${t.value().formatChannelValue("hue")}, ${O.state.value().getHueName(l.translations)}`,le=o=>{g$1.isDisabled()||(o.preventDefault(),o.stopPropagation(),t.setHue(t.minValue()));},ue=o=>{g$1.isDisabled()||(o.preventDefault(),o.stopPropagation(),t.setHue(t.maxValue()));},ce=o=>{if(!g$1.isDisabled())switch(o.key){case"Left":case"ArrowLeft":o.preventDefault(),o.stopPropagation(),V()?t.decrement(o.shiftKey?t.pageSize():t.step()):t.increment(o.shiftKey?t.pageSize():t.step());break;case"Down":case"ArrowDown":o.preventDefault(),o.stopPropagation(),t.decrement(o.shiftKey?t.pageSize():t.step());break;case"Up":case"ArrowUp":o.preventDefault(),o.stopPropagation(),t.increment(o.shiftKey?t.pageSize():t.step());break;case"Right":case"ArrowRight":o.preventDefault(),o.stopPropagation(),V()?t.increment(o.shiftKey?t.pageSize():t.step()):t.decrement(o.shiftKey?t.pageSize():t.step());break;case"Home":le(o);break;case"End":ue(o);break;case"PageUp":o.preventDefault(),o.stopPropagation(),t.increment(t.pageSize());break;case"PageDown":o.preventDefault(),o.stopPropagation(),t.decrement(t.pageSize());break}},O={state:t,outerRadius:P,thickness:()=>l.thickness,onDragStart:W,onDrag:d,onDragEnd:m,getThumbValueLabel:w,getValueLabel:l.getValueLabel,onStepKeyDown:ce,trackRef:b,setTrackRef:x,thumbRef:C,setThumbRef:n,generateId:createGenerateId(()=>access(f.id))};return createComponent(c.Provider,{value:g$1,get children(){return createComponent(M.Provider,{value:O,get children(){return createComponent(a$7,mergeProps({as:"div",ref(o){let T=mergeRefs(s,l.ref);typeof T=="function"&&T(o);},role:"group",get id(){return access(f.id)}},()=>g$1.dataset(),c$1))}})}})}function ae(a){let e=y(),s=d(),p=mergeDefaultProps({id:e.generateId("thumb")},a),[u,l,f]=splitProps(p,["style","onKeyDown","onPointerDown","onPointerMove","onPointerUp"],a$2),{fieldProps:c}=b(l),g=r=>{callHandler(r,u.onKeyDown),e.onStepKeyDown(r);},[h,b$1]=createSignal(),x=r=>{let t=h()||e.trackRef().getBoundingClientRect();return b$1(t),[r.x-t.left-t.width/2,r.y-t.top-t.height/2]},C={x:0,y:0};return createComponent(a$7,mergeProps({as:"span",ref(r){let t=mergeRefs(e.setThumbRef,a.ref);typeof t=="function"&&t(r);},role:"slider",get id(){return c.id()},get tabIndex(){return e.state.isDisabled()?void 0:0},get style(){return combineStyle({position:"absolute",left:`${e.outerRadius()+e.state.getThumbPosition().x}px`,top:`${e.outerRadius()+e.state.getThumbPosition().y}px`,transform:"translate(-50%, -50%)","forced-color-adjust":"none","touch-action":"none",opacity:e.outerRadius()?1:0,transition:"opacity .1s linear","--kb-color-current":e.state.value().toString()},u.style)},get"aria-valuetext"(){return e.getThumbValueLabel()},get"aria-valuemin"(){return e.state.minValue()},get"aria-valuenow"(){return e.state.hue()},get"aria-valuemax"(){return e.state.maxValue()},get"aria-label"(){return c.ariaLabel()},get"aria-labelledby"(){return c.ariaLabelledBy()},get"aria-describedby"(){return c.ariaDescribedBy()},onKeyDown:g,onPointerDown:r=>{callHandler(r,u.onPointerDown);let t=r.currentTarget;r.preventDefault(),r.stopPropagation(),t.setPointerCapture(r.pointerId),t.focus();let V=x({x:r.clientX,y:r.clientY});C={x:r.clientX,y:r.clientY},e.onDragStart?.(V);},onPointerMove:r=>{if(r.stopPropagation(),callHandler(r,u.onPointerMove),r.currentTarget.hasPointerCapture(r.pointerId)){let V={deltaX:r.clientX-C.x,deltaY:r.clientY-C.y};e.onDrag?.(V),C={x:r.clientX,y:r.clientY};}},onPointerUp:r=>{r.stopPropagation(),callHandler(r,u.onPointerUp);let t=r.currentTarget;t.hasPointerCapture(r.pointerId)&&(t.releasePointerCapture(r.pointerId),e.onDragEnd?.());}},()=>s.dataset(),f))}function se(a){let e=y(),s=d(),[p,u]=splitProps(a,["style","onPointerDown","onPointerMove","onPointerUp"]),[l,f]=createSignal(),c=n=>{let i=l()||e.trackRef().getBoundingClientRect();return f(i),[n.x-i.left-i.width/2,n.y-i.top-i.height/2]},g={x:0,y:0},h=n=>{callHandler(n,p.onPointerDown),n.target.setPointerCapture(n.pointerId),n.preventDefault();let P=c({x:n.clientX,y:n.clientY});g={x:n.clientX,y:n.clientY},e.onDragStart?.(P);},b=n=>{callHandler(n,p.onPointerMove),n.target.hasPointerCapture(n.pointerId)&&(e.onDrag?.({deltaX:n.clientX-g.x,deltaY:n.clientY-g.y}),g={x:n.clientX,y:n.clientY});},x=n=>{callHandler(n,p.onPointerUp);let i=n.target;i.hasPointerCapture(n.pointerId)&&(i.releasePointerCapture(n.pointerId),f(void 0),e.onDragEnd?.());},C=`
      conic-gradient(
        from 90deg,
				${[...Array(13).keys()].map(n=>`hsl(${n*30} 100% 50%)`).join(",")}
      )
    `;return createComponent(a$7,mergeProps({as:"div",ref(n){let i=mergeRefs(e.setTrackRef,a.ref);typeof i=="function"&&i(n);},get style(){return combineStyle({"touch-action":"none","forced-color-adjust":"none",background:C,"clip-path":"circle(50%)",mask:`radial-gradient(#0000 ${70-e.thickness()/100*70}%, #000 ${70.5-e.thickness()/100*70}%)`},p.style)},onPointerDown:h,onPointerMove:b,onPointerUp:x},()=>s.dataset(),u))}function ie(a){let e=y(),s=d();return createComponent(a$7,mergeProps({as:"div"},()=>s.dataset(),a,{get children(){return e.getValueLabel(e.state.value())}}))}var ao=Object.assign(ne,{Description:e,ErrorMessage:a,Input:J,Label:a$1,Thumb:ae,Track:se,ValueLabel:ie});

export { ao as ColorWheel, J as Input, ne as Root, ae as Thumb, se as Track, ie as ValueLabel, y as useColorWheelContext };
